<!DOCTYPE html>
<html><head><title>MathBox.cljs</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="A Reagent interface to the MathBox mathematical visualization library." property="og:description"><meta content="MathBox.cljs" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><link href="https://unpkg.com/mathbox@2.3.1/build/mathbox.css" rel="stylesheet" type="text/css"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  darkMode: "class",
  content: ["./tw/viewer.js", "./tw/**/*.edn"],
  safelist: ['dark'],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded dark:bg-gray-800;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h2 {
    /*We cannot collapse margins due to nesting but we want to*/
    /*keep the h2’s large margin visible*/
    @apply font-condensed font-bold mt-8 first:mt-2;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }

  @media print {
      h1 { @apply text-2xl !important; }
      h2 { @apply text-xl !important; }
      h3 { @apply text-lg !important; }
  }
  
  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.dark .disclose,
.dark .disclose:hover {
  border-color: white transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.markdown-viewer ul ul {
  @apply mt-1 mb-0;
}

/* compact TOC */
.markdown-viewer .toc ul {
  list-style: none;
  @apply my-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.code-viewer {
  @apply font-mono bg-slate-100 rounded-sm text-sm overflow-x-auto dark:bg-gray-800;
}
.code-listing  {
    @apply -ml-8 -mr-8 relative !important;
}
.code-viewer .cm-content {
  @apply py-4 px-8;
}
@media (min-width: 960px){
    .notebook-viewer .code-viewer .cm-content {
        @apply py-4 pl-12;
    }
    .notebook-viewer .code-listing {
        width: 48rem !important;
        @apply -ml-12 mr-0 !important;
    }
}
/* Don’t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Syntax Highlighting */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono leading-[1.25rem]; }
.cmt-strong, .cmt-heading { @apply font-bold; }
.cmt-italic, .cmt-emphasis { @apply italic; }
.cmt-strikethrough { @apply line-through; }
.cmt-link { @apply underline; }
.untyped-value { @apply whitespace-nowrap; }

.cm-editor, .cmt-default, .result-viewer {
  @apply text-slate-800 dark:text-slate-300;
}
.cmt-keyword {
  @apply text-purple-800 dark:text-pink-400;
}
.cmt-atom, .cmt-bool, .cmt-url, .cmt-contentSeparator, .cmt-labelName {
  @apply text-blue-900 dark:text-blue-300;
}
.cmt-inserted, .cmt-literal {
  @apply text-emerald-700 dark:text-emerald-200;
}
.cmt-string, .cmt-deleted {
  @apply text-rose-700 dark:text-sky-300;
}
.cmt-italic.cmt-string {
  @apply dark:text-sky-200;
}
.cmt-regexp, .cmt-escape {
  @apply text-orange-500 dark:text-orange-300;
}
.cmt-variableName {
  @apply text-blue-800 dark:text-sky-300;
}
.cmt-typeName, .cmt-namespace {
  @apply text-emerald-600 dark:text-emerald-300;
}
.cmt-className {
  @apply text-teal-600 dark:text-teal-200;
}
.cmt-macroName {
  @apply text-teal-700 dark:text-teal-200;
}
.cmt-propertyName {
  @apply text-blue-700 dark:text-blue-200;
}
.cmt-comment {
  @apply text-slate-500 dark:text-slate-400;
}
.cmt-meta {
  @apply text-slate-600 dark:text-slate-400;
}
.cmt-invalid {
  @apply text-red-500 dark:text-red-300;
}

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.notebook-viewer,
.markdown-viewer {
  @apply prose
    dark:prose-invert
    prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
    dark:prose-a:text-blue-300
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-4
    prose-table:mt-0
    prose-th:mb-0
    prose-img:my-0
    prose-code:font-medium prose-code:bg-slate-100
    max-w-none;
}
.markdown-viewer blockquote p:first-of-type:before,
.markdown-viewer blockquote p:last-of-type:after {
  @apply content-none;
}

/* Images */
/* --------------------------------------------------------------- */


/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.markdown-viewer .toc      { @apply mt-4; }
.markdown-viewer h1 + .toc { @apply mt-8; }

.markdown-viewer .toc h1,
.markdown-viewer .toc h2,
.markdown-viewer .toc h3,
.markdown-viewer .toc h4,
.markdown-viewer .toc h5,
.markdown-viewer .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.markdown-viewer .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.markdown-viewer .toc li    { @apply m-0; }
.markdown-viewer .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.notebook-viewer { @apply py-16; }
#clerk-static-app .notebook-viewer { @apply pt-[0.8rem] pb-16; }
.markdown-viewer *:first-child:not(.code-viewer):not(li):not(h2):not(.sidenote) { @apply mt-0; }
/*.viewer + .viewer { @apply mt-6; }*/
.viewer + .result-viewer { @apply mt-0; }
.code-viewer + .result-viewer { @apply mt-3; }
.markdown-viewer + .markdown-viewer { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
}
.sidenote {
  @apply block font-sans text-xs mt-4 bg-slate-100 dark:bg-slate-800 p-4;
  font-style: normal;
  font-weight: normal;
}
.sidenote-container {
  @apply mb-4;
}
@media (min-width: 860px) {
  .sidenote sup { @apply inline; }
  .sidenote-column {
    @apply w-[165px] absolute right-0 top-0 -mr-[205px];
  }
  .sidenote {
    @apply bg-transparent dark:bg-transparent p-0;
  }
  .sidenote:first-child {
    @apply mt-1;
  }
  .sidenotes-layout .markdown-viewer {
    @apply pr-[205px];
  }
  .sidenote-container {
    @apply relative mb-0;
  }
  .sidenotes-layout h1 {
    @apply w-[756px] !important;
  }
}
.code-viewer + .viewer:not(.markdown-viewer):not(.code-viewer):not(.code-viewer-folded),
.code-viewer-folded + .viewer:not(.markdown-viewer):not(.code-viewer):not(.code-viewer-folded),
.result-viewer + .result-viewer {
  @apply mt-2;
}
.code-viewer + .code-viewer-folded {
  @apply mt-4;
}
.result-viewer {
  @apply leading-tight mb-6;
}
.result-viewer figure {
  @apply mt-0 !important;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by tw’s border-color */
.katex * { @apply border-black; }

@media print {
    .dark-mode-toggle,
    .toc-toggle { @apply hidden; }
    .notebook-viewer { @apply pt-0; font-size: 12pt !important; margin-left: 0 !important; }
    .code-viewer .cm-content,
    .viewer-code .cm-content { @apply whitespace-pre-wrap !important; overflow: none; }
    .code-viewer .cm-line { font-size: 12pt !important; }
    html * { page-break-inside: avoid !important; }
    .toc-panel { @apply hidden; }
}
</style><script src="_data/8Vtn8tTuPpYgmr8cZLGf4kqdc7Vz3imqwFWf2ecNHVwKAEf8wCq2yn92qRy2yxDY3D9bucaRZKRuEY7rEnTmcc8BxN.js" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script type="module">let state = "{:out-path \"public/build\", :path->doc {\"dev/mathbox/notebook.clj\" {:path [], :nextjournal/value {:toc {:type :toc, :children [{:type :toc, :content [{:type :text, :text \"MathBox.cljs\"}], :heading-level 1, :attrs {:id \"mathbox.cljs\"}, :path [:content 0], :children [{:type :toc, :content [{:type :text, :text \"What is MathBox?\"}], :heading-level 2, :attrs {:id \"what-is-mathbox?\"}, :path [:content 4]} {:type :toc, :content [{:type :text, :text \"Quickstart\"}], :heading-level 2, :attrs {:id \"quickstart\"}, :path [:content 11]} {:type :toc, :content [{:type :text, :text \"Your First Scene\"}], :heading-level 2, :attrs {:id \"your-first-scene\"}, :path [:content 20], :children [{:type :toc, :content [{:type :text, :text \"Start with the camera\"}], :heading-level 3, :attrs {:id \"start-with-the-camera\"}, :path [:content 25]} {:type :toc, :content [{:type :text, :text \"Add a coordinate system\"}], :heading-level 3, :attrs {:id \"add-a-coordinate-system\"}, :path [:content 33]} {:type :toc, :content [{:type :text, :text \"Add some data and draw it\"}], :heading-level 3, :attrs {:id \"add-some-data-and-draw-it\"}, :path [:content 44]} {:type :toc, :content [{:type :text, :text \"Add more shapes\"}], :heading-level 3, :attrs {:id \"add-more-shapes\"}, :path [:content 54]} {:type :toc, :content [{:type :text, :text \"Add some floating labels\"}], :heading-level 3, :attrs {:id \"add-some-floating-labels\"}, :path [:content 60]} {:type :toc, :content [{:type :text, :text \"Make it move\"}], :heading-level 3, :attrs {:id \"make-it-move\"}, :path [:content 72]}]} {:type :toc, :content [{:type :text, :text \"MathBox.cljs via SCI\"}], :heading-level 2, :attrs {:id \"mathbox.cljs-via-sci\"}, :path [:content 76]} {:type :toc, :content [{:type :text, :text \"MathBox.cljs via Clerk\"}], :heading-level 2, :attrs {:id \"mathbox.cljs-via-clerk\"}, :path [:content 82]} {:type :toc, :content [{:type :text, :text \"Project Template\"}], :heading-level 2, :attrs {:id \"project-template\"}, :path [:content 86]} {:type :toc, :content [{:type :text, :text \"Guides\"}], :heading-level 2, :attrs {:id \"guides\"}, :path [:content 93], :children [{:type :toc, :content [{:type :text, :text \"Configuring MathBox\"}], :heading-level 3, :attrs {:id \"configuring-mathbox\"}, :path [:content 95], :children [{:type :toc, :content [{:type :text, :text \"Threestrap configuration\"}], :heading-level 4, :attrs {:id \"threestrap-configuration\"}, :path [:content 98]}]} {:type :toc, :content [{:type :text, :text \"Supported Primitives\"}], :heading-level 3, :attrs {:id \"supported-primitives\"}, :path [:content 99]} {:type :toc, :content [{:type :text, :text \"Reactivity\"}], :heading-level 3, :attrs {:id \"reactivity\"}, :path [:content 101]} {:type :toc, :content [{:type :text, :text \"Examples Directory\"}], :heading-level 3, :attrs {:id \"examples-directory\"}, :path [:content 102]} {:type :toc, :content [{:type :text, :text \"Which components can nest?\"}], :heading-level 3, :attrs {:id \"which-components-can-nest?\"}, :path [:content 103]} {:type :toc, :content [{:type :text, :text \"Options vs Binds\"}], :heading-level 3, :attrs {:id \"options-vs-binds\"}, :path [:content 105]} {:type :toc, :content [{:type :text, :text \"Clumping Components with Fragments\"}], :heading-level 3, :attrs {:id \"clumping-components-with-fragments\"}, :path [:content 106]} {:type :toc, :content [{:type :text, :text \"Printing the DOM\"}], :heading-level 3, :attrs {:id \"printing-the-dom\"}, :path [:content 107]} {:type :toc, :content [{:type :text, :text \"Control Types\"}], :heading-level 3, :attrs {:id \"control-types\"}, :path [:content 109]}]} {:type :toc, :content [{:type :text, :text \"Glossary\"}], :heading-level 2, :attrs {:id \"glossary\"}, :path [:content 112], :children [{:type :toc, :content [{:type :text, :text \"DOM\"}], :heading-level 3, :attrs {:id \"dom\"}, :path [:content 113]} {:type :toc, :content [{:type :text, :text \"Graphics\"}], :heading-level 3, :attrs {:id \"graphics\"}, :path [:content 115]} {:type :toc, :content [{:type :text, :text \"Data\"}], :heading-level 3, :attrs {:id \"data\"}, :path [:content 117]}]} {:type :toc, :content [{:type :text, :text \"Who is using MathBox / MathBox.cljs?\"}], :heading-level 2, :attrs {:id \"who-is-using-mathbox-/-mathbox.cljs?\"}, :path [:content 119]} {:type :toc, :content [{:type :text, :text \"Thanks and Support\"}], :heading-level 2, :attrs {:id \"thanks-and-support\"}, :path [:content 123]} {:type :toc, :content [{:type :text, :text \"License\"}], :heading-level 2, :attrs {:id \"license\"}, :path [:content 127]}]}]}, :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns mathbox.notebook), :auto-expand-results? nil, :scope mathbox.notebook, :bundle? false, :open-graph {:type \"article:clerk\", :title \"MathBox.cljs\", :description \"A Reagent interface to the MathBox mathematical visualization library.\"}, :title \"MathBox.cljs\", :blocks [{:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value #viewer-eval (clojure.core/binding [clojure.core/*ns* clojure.core/*ns*] (require (quote [mathbox.core :as mathbox])) (require (quote [mathbox.primitives :as mb])) (require (quote [reagent.core :as reagent]))), :nextjournal/viewer {:var-from-def? true, :render-fn #viewer-fn (fn [x opts] (if (nextjournal.clerk.render/reagent-atom? x) [nextjournal.clerk.render/render-tagged-value {:space? false} \"#object\" [nextjournal.clerk.render/inspect [(symbol (pr-str (type x))) (clojure.core/deref x)]]] [nextjournal.clerk.render/inspect x])), :nextjournal.clerk/remount \"5dreM5fGEEV55apdbmryqpqxLpn583\", :hash \"5drfVroyGygSsPcry6q2iJWwKyk21U\"}}, :nextjournal.clerk.viewer/viewer-eval-form (clojure.core/binding [clojure.core/*ns* clojure.core/*ns*] (require (quote [mathbox.core :as mathbox])) (require (quote [mathbox.primitives :as mb])) (require (quote [reagent.core :as reagent])))}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn (fn [_] [:<>]), :hash \"5ds2mGvrvNk7Cbsd66ZxWsbG6bXJDh\"}} {:nextjournal/value [:div.markdown-viewer [\"h1\" {:id \"mathbox.cljs\"} [:<> \"MathBox.cljs\"]] [:p [:<> \"A \"] [:a {:href \"https://reagent-project.github.io/\"} [:<> \"Reagent\"]] [:<> \" interface to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://github.com/unconed/mathbox\"} [:<> \"MathBox\"]] [:<> \" mathematical visualization\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"library.\"]] [:p [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/actions/workflows/kondo.yml\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://github.com/mentat-collective/mathbox.cljs/actions/workflows/kondo.yml/badge.svg?branch=main\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/blob/main/LICENSE\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/badge/license-MIT-brightgreen.svg\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://cljdoc.org/d/org.mentat/mathbox.cljs/CURRENT\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://cljdoc.org/badge/org.mentat/mathbox.cljs\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://clojars.org/org.mentat/mathbox.cljs\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/mathbox.cljs.svg\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]]] [:blockquote [:p [:<> \"The interactive documentation on this page was generated from \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/blob/$GIT_SHA/dev/mathbox/notebook.clj\"} [:<> \"this source\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"file\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"using \"] [:a {:href \"https://github.com/nextjournal/clerk\"} [:<> \"Clerk\"]] [:<> \". Follow\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/tree/main#interactive-documentation-via-clerk\"} [:<> \"instructions in the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"README\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to run and modify this notebook on your machine!\"]] [:p [:<> \"See the \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs\"} [:<> \"Github\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"project\"]] [:<> \" for more\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"details, and the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/mathbox.cljs/CURRENT/doc/readme\"} [:<> \"cljdoc\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"page\"]] [:<> \" for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"detailed API documentation.\"]]] [\"h2\" {:id \"what-is-mathbox?\"} [:<> \"What is MathBox?\"]] [:p [:<> \"MathBox is a library for rendering presentation-quality math diagrams in a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"browser using WebGL. Built on top\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"of \"] [:a {:href \"https://threejs.org/\"} [:<> \"Three.js\"]] [:<> \", \"] [:a {:href \"https://github.com/unconed/threestrap\"} [:<> \"Threestrap\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://github.com/unconed/shadergraph\"} [:<> \"ShaderGraph\"]] [:<> \", it provides a clean\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"API to visualize mathematical relationships and animate them declaratively.\"]] [:p [:<> \"In simple use cases, it can elegantly draw 2D, 3D or 4D graphs, including\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"points, vectors, labels, wireframes and shaded surfaces.\"]] [:p [:<> \"In more advanced use, data can be processed inside MathBox, compiled into GPU\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"programs which can feed back into themselves. By combining shaders and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"render-to-texture effects, you can create sophisticated visual effects,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"including classic Winamp-style music visualizers.\"]] [:p [:<> \"For example, here is an example of a dynamically updating surface, monitored\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"by an orbiting camera:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [mathbox.examples.test.face/Face])\", :nextjournal/opts {:loc {:line 61, :end-line 64, :column 1, :end-column 36}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-folded-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-folded-code, :hash \"5dtDa1QgftrPjN8Mut4jai69mpkeDL\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do [mathbox.examples.test.face/Face])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5dtxCxRCNiHKbTdu4Fh3QWAwryGD2j\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:blockquote [:p [:<> \"The code for this particular example\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"lives \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/tree/main/dev/mathbox/examples/test/face.cljc\"} [:<> \"here\"]] [:<> \".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Visit the \"] [:a {:href \"https://mathbox.mentat.org/dev/mathbox/examples/index.html\"} [:<> \"Examples\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"index\"]] [:<> \" to see\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"many more.\"]]] [:p [:a {:href \"https://github.com/mentat-collective/mathbox.cljs\"} [:<> \"MathBox.cljs\"]] [:<> \" extends\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"MathBox (via \"] [:a {:href \"https://github.com/ChristopherChudzicki/mathbox-react\"} [:<> \"MathBox-react\"]] [:<> \")\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"with a \"] [:a {:href \"https://reagent-project.github.io/\"} [:<> \"Reagent\"]] [:<> \" component that makes it\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"easy to define MathBox constructions inside of a user interface built with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"ClojureScript.\"]] [\"h2\" {:id \"quickstart\"} [:<> \"Quickstart\"]] [:p [:<> \"Install \"] [:code [:<> \"MathBox.cljs\"]] [:<> \" into your ClojureScript project using the instructions\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"at its Clojars page:\"]] [:p [:a {:href \"https://clojars.org/org.mentat/mathbox.cljs\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/mathbox.cljs.svg\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]]] [:p [:<> \"Or grab the most recent code using a Git dependency:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div.markdown-viewer [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"\\n{io.github.mentat-collective/mathbox.cljs\\n  {:git/sha \\\"997f89ad716181234b9b291b161b209aa7fbc9fd\\\"}}\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Require \"] [:code [:<> \"mathbox.core\"]] [:<> \" and \"] [:code [:<> \"mathbox.primitives\"]] [:<> \" in your ClojureScript\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"namespace:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"(ns my-app\\n  (:require [mathbox.core :as mathbox]\\n            [mathbox.primitives :as mb]\\n            [reagent.core :as reagent]))\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"You'll also need to include the stylesheets that ship with \"] [:code [:<> \"MathBox\"]] [:<> \". If\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"you're using Clerk\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and \"] [:a {:href \"https://github.com/mentat-collective/clerk-utils\"} [:code [:<> \"clerk-utils\"]]] [:<> \", add\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"this form to \"] [:code [:<> \"dev/user.clj\"]] [:<> \":\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"(mentat.clerk-utils.css/set-css!\\n \\\"https://unpkg.com/mathbox/build/mathbox.css\\\")\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"Otherwise find some way to load this CSS file in your project's header.\"]] [\"h2\" {:id \"your-first-scene\"} [:<> \"Your First Scene\"]] [:p [:<> \"You create MathBox.cljs scenes by declaring a MathBox component tree, similar\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to writing an HTML DOM using a Reagent component tree.\"]] [:p [:<> \"To show anything in MathBox, you need to establish four things:\"]] [:ol [:li [:<> [:<> \"A camera that is looking at...\"]]] [:li [:<> [:<> \"A coordinate system which contains...\"]]] [:li [:<> [:<> \"Geometrical data represented via...\"]]] [:li [:<> [:<> \"A choice of shape to draw it as.\"]]]] [:p [:<> \"For this example, we'll build a 2D rectangular view containing an array of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"points, drawn as a continuous line.\"]] [\"h3\" {:id \"start-with-the-camera\"} [:<> \"Start with the camera\"]] [:p [:<> \"The default 3D camera starts out at \"] [:code [:<> \"[0 0 0]\"]] [:<> \" (i.e. X, Y, Z), right in the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"middle of our diagram. +Z goes out of the screen and -Z into the screen.\"]] [:p [:<> \"Declare a scene with \"] [:code [:<> \"mathbox/MathBox\"]] [:<> \" (along with some options for the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"container).\"]] [:p [:<> \"Insert a \"] [:code [:<> \"mathbox.primitives/Camera\"]] [:<> \" component and pull back its \"] [:code [:<> \":position\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"3 units to \"] [:code [:<> \"[0 0 3]\"]] [:<> \". We also set \"] [:code [:<> \":proxy\"]] [:<> \" to true: this allows interactive\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"camera controls to override our given position.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [mathbox/MathBox\\n  {:container\\n   {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}}\\n  [mb/Camera\\n   {:position [0 0 3]\\n    :proxy true}]])\", :nextjournal/opts {:loc {:line 141, :end-line 148, :column 1, :end-column 20}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}} [mb/Camera {:position [0 0 3], :proxy true}]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5drXM11tztTK63Di11wEN3DrMp1xwx\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"We now have an empty scene with a loading bar and nothing to look at. Our\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"MathBox DOM now looks like:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"<root>\\n  <camera proxy={true} position={[0, 0, 3]} />\\n</root>\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:blockquote [:p [:<> \"See \"] [:a {:href \"#printing-the-dom\"} [:<> \"Printing the DOM\"]] [:<> \" below for details on how to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"generate this representation at the console.\"]]] [:p [:<> \"If you pass a one-argument function via the \"] [:code [:<> \":ref\"]] [:<> \" argument to any component,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"you'll receive a MathBox selection that points to the \"] [:code [:<> \"<camera />\"]] [:<> \" element.\"]] [\"h3\" {:id \"add-a-coordinate-system\"} [:<> \"Add a coordinate system\"]] [:p [:<> \"Now we're going to set up a simple 2D cartesian coordinate system. We'll make\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"it twice as wide as high.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}]])\", :nextjournal/opts {:loc {:line 170, :end-line 178, :column 1, :end-column 21}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]}]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5dt2fdbAe7korTBbGfXDVqedQSQ5Nh\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"The \"] [:code [:<> \":range\"]] [:<> \" specifies the area we're looking at as a vector of pairs: \"] [:code [:<> \"[-2  2]\"]] [:<> \" in the \"] [:code [:<> \"X\"]] [:<> \" direction, \"] [:code [:<> \"[-1, 1]\"]] [:<> \" in the \"] [:code [:<> \"Y\"]] [:<> \" direction.\"]] [:p [:<> \"The \"] [:code [:<> \"scale\"]] [:<> \" specifies the projected size of the view, in this case \"] [:code [:<> \"[2 1]\"]] [:<> \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"i.e. 2 \"] [:code [:<> \"X\"]] [:<> \" units and 1 \"] [:code [:<> \"Y\"]] [:<> \" unit.\"]] [:p [:<> \"Add two axes and a grid as children of the \"] [:code [:<> \"mb/Cartesian\"]] [:<> \" component so we can\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"finally see something:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3}]\\n   [mb/Axis {:axis 2 :width 3}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]]])\", :nextjournal/opts {:loc {:line 189, :end-line 201, :column 1, :end-column 51}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3}] [mb/Axis {:axis 2, :width 3}] [mb/Grid {:width 2, :divideX 20, :divideY 10}]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5dsHgHnpR7GQLuMMvQXW3iLEeprfn5\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"You should see gridlines appear in 50% gray, the default color, at the given\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"widths. The DOM now looks like this:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"<root>\\n  <camera proxy={true} position={[0, 0, 3]} />\\n  <cartesian range={[[-2, 2], [-1, 1]]} scale={[2, 1]}>\\n    <axis axis={1} width={3} />\\n    <axis axis={2} width={3} />\\n    <grid width={2} divideX={20} divideY={10} />\\n  </cartesian>\\n</root>\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"You might make your axes black by passing the \"] [:code [:<> \":color \\\"black\\\"\"]] [:<> \" attribute:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]]])\", :nextjournal/opts {:loc {:line 219, :end-line 231, :column 1, :end-column 51}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5dsaJJSvAjE7WTdUgMpgjzRphH7zfT\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"As the on-screen size of elements depends on the position of the camera, we\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"can calibrate our units by setting the \"] [:code [:<> \"focus\"]] [:<> \" on the \"] [:code [:<> \"<root>\"]] [:<> \" to match the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"camera distance. Set options on \"] [:code [:<> \"<root>\"]] [:<> \" by passing them to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"mathbox/MathBox\"]] [:<> \":\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]]])\", :nextjournal/opts {:loc {:line 238, :end-line 251, :column 1, :end-column 51}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5dsbs8SZjzkhJ2g5PffTgz7euVXAvQ\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Which gives us:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"<root focus={3}>\\n  <camera proxy={true} position={[0, 0, 3]} />\\n  <cartesian range={[[-2, 2], [-1, 1]]} scale={[2, 1]}>\\n    <axis axis={1} width={3} color=\\\"black\\\" />\\n    <axis axis={2} width={3} color=\\\"black\\\" />\\n    <grid width={2} divideX={20} divideY={10} />\\n  </cartesian>\\n</root>\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [\"h3\" {:id \"add-some-data-and-draw-it\"} [:<> \"Add some data and draw it\"]] [:p [:<> \"Now we'll draw a moving sine wave. First we create an \"] [:code [:<> \"mb/Interval\"]] [:<> \". This is\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"a 1D array, sampled over the cartesian view's range. It contains an \"] [:code [:<> \":expr\"]] [:<> \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"an expression to generate the data points.\"]] [:p [:<> \"We \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/CreatingReagentComponents.md\"} [:<> \"make a new\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"component\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"that generates 64 points, each with two \"] [:code [:<> \":channels\"]] [:<> \", i.e. \"] [:code [:<> \"X\"]] [:<> \" and \"] [:code [:<> \"Y\"]] [:<> \" values.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"This value sets the number of items that are emitted with each call to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"emit\"]] [:<> \".\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defn Data []\\n   [mb/Interval\\n    {:expr (fn [emit x _i t]\\n             (emit x (Math/sin (+ x t))))\\n     :width 64\\n     :channels 2}]))\", :nextjournal/opts {:loc {:line 278, :end-line 284, :column 1, :end-column 21}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do (defn Data [] [mb/Interval {:expr (fn [emit x _i t] (emit x (Math/sin (+ x t)))), :width 64, :channels 2}]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5du7qAiHBJ2HzTFWPqnoFds981WCQR\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Here, \"] [:code [:<> \"x\"]] [:<> \" is the sampled X coordinate, \"] [:code [:<> \"_i\"]] [:<> \" is the array index (0-63), and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"t\"]] [:<> \" is clock time in seconds, starting from 0. The use of \"] [:code [:<> \"emit\"]] [:<> \" is similar\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to \"] [:code [:<> \"return\"]] [:<> \"ing a value. It is used to allow multiple values to be emitted\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"very efficiently.\"]] [:p [:<> \"Once we have the data, we can draw it, by \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/CreatingReagentComponents.md\"} [:<> \"creating a new\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"component\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"called \"] [:code [:<> \"Curve\"]] [:<> \" that adds on an \"] [:code [:<> \"mb/Line\"]] [:<> \". The target of the line is, by\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"default, the previous entry in the component tree.\"]] [:blockquote [:p [:<> \"Note the use of \"] [:a {:href \"https://reactjs.org/docs/fragments.html\"} [:<> \"React fragments\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"here; we can bundle up many components by putting them into a vector starting\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"with \"] [:code [:<> \":<>\"]] [:<> \".\"]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defn Curve []\\n   [:<>\\n    [Data]\\n    [mb/Line {:width 5\\n              :color \\\"#3090FF\\\"}]]))\", :nextjournal/opts {:loc {:line 300, :end-line 305, :column 1, :end-column 36}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do (defn Curve [] [:<> [Data] [mb/Line {:width 5, :color \"#3090FF\"}]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5drrnkzGDNKsdifXKyR5G5iGS5qodS\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Note that we've used an HTML hex color instead of a named color. CSS syntax\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"like \"] [:code [:<> \"\\\"rgb(255,128,53)\\\"\"]] [:<> \" works too.\"]] [:p [:<> \"Add a \"] [:code [:<> \"Curve\"]] [:<> \" instance to the component tree:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]\\n   [Curve]]])\", :nextjournal/opts {:loc {:line 312, :end-line 326, :column 1, :end-column 14}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}] [Curve]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5dt3ooqK9g3SiZ22pAaAtwTgrMeycR\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"The DOM now looks like:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"<root focus={3}>\\n  <camera proxy={true} position={[0, 0, 3]} />\\n  <cartesian range={[[-2, 2], [-1, 1]]} scale={[2, 1]}>\\n    <axis axis={1} width={3} color=\\\"black\\\" />\\n    <axis axis={2} width={3} color=\\\"black\\\" />\\n    <grid width={2} divideX={20} divideY={10} />\\n    <interval expr={(emit, x, i, t) => {\\n          emit(x, Math.sin(x + t));\\n        }} width={64} channels={2} />\\n    <line width={5} color=\\\"#3090FF\\\" />\\n  </cartesian>\\n</root>\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [\"h3\" {:id \"add-more-shapes\"} [:<> \"Add more shapes\"]] [:p [:<> \"The nice thing about separating data from shape is that you can draw the same\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"data multiple ways. For example, add on an \"] [:code [:<> \"mb/Point\"]] [:<> \" component to draw\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"points as well along them length of the data interval:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]\\n   [Curve]\\n   [mb/Point {:size 8 :color \\\"#3090FF\\\"}]]])\", :nextjournal/opts {:loc {:line 351, :end-line 366, :column 1, :end-column 44}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}] [Curve] [mb/Point {:size 8, :color \"#3090FF\"}]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5dsCFBNEb1Yg5JDMjLL9qUELw39wfA\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"The different shapes available are documented in\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/mathbox.cljs/CURRENT/api/mathbox.primitives.draw\"} [:code [:<> \"mathbox.primitives.draw\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"namespace\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Points, lines and surfaces are pretty obvious and do what they say on the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"tin. e.g. Fill a 2D \"] [:code [:<> \"mb/Area\"]] [:<> \" with data and pass it to a \"] [:code [:<> \"mb/Surface\"]] [:<> \" to draw\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"a solid triangle mesh.\"]] [:p [:<> \"For vectors, faces and strips, the situation changes. To draw 64 vectors as\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"arrows, you need 128 points: a start and end for each. Thus the data has to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"change. We set \"] [:code [:<> \"items\"]] [:<> \" to 2 and emit two points per iteration. We also add on\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"a green \"] [:code [:<> \"mb/Vector\"]] [:<> \" to draw the data:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defn Vector []\\n   [:<>\\n    [mb/Interval\\n     {:expr (fn [emit x _i t]\\n              (emit x 0)\\n              (emit x (- (Math/sin (+ x t)))))\\n      :width 64\\n      :channels 2\\n      :items 2}]\\n    [mb/Vector\\n     {:end true\\n      :width 5\\n      :color \\\"#50A000\\\"}]]))\", :nextjournal/opts {:loc {:line 380, :end-line 393, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do (defn Vector [] [:<> [mb/Interval {:expr (fn [emit x _i t] (emit x 0) (emit x (- (Math/sin (+ x t))))), :width 64, :channels 2, :items 2}] [mb/Vector {:end true, :width 5, :color \"#50A000\"}]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5dqw1LWExzgDMxmm7oGSFejf8CQSBs\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:blockquote [:p [:<> \"As an alternative to \"] [:code [:<> \":expr\"]] [:<> \", you can also supply an array of \"] [:code [:<> \":data\"]] [:<> \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"either constant or changing, flat or nested. MathBox will iterate over it\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and emit it for you, picking up any live data. If your data does not\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"change, you can set \"] [:code [:<> \":live false\"]] [:<> \" to optimize.\"]]] [:p [:<> \"Render the scene again after adding the new \"] [:code [:<> \"Vector\"]] [:<> \" component to the end:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]\\n   [Curve]\\n   [mb/Point {:size 8 :color \\\"#3090FF\\\"}]\\n\\n   [Vector]]])\", :nextjournal/opts {:loc {:line 402, :end-line 419, :column 1, :end-column 15}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}] [Curve] [mb/Point {:size 8, :color \"#3090FF\"}] [Vector]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5drp4XG2ziepEr2FNxCGMzquEAZKon\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"add-some-floating-labels\"} [:<> \"Add some floating labels\"]] [:p [:<> \"Finally we'll label our coordinate system. First we need to establish a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"mb/Scale\"]] [:<> \", which will divide our view into nice intervals.\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"[mb/Scale {:divide 10}]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"We can draw our scale as tick marks with \"] [:code [:<> \"mb/Ticks\"]] [:<> \":\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"[mb/Ticks {:width 5 :size 15 :color \\\"black\\\"}]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"Now we need to format our numbers into rasterized text:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"[mb/Format {:digits 2 :weight \\\"bold\\\"}]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"And finally draw the text as floating labels:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"[mb/Label {:color \\\"red\\\"\\n           :zIndex 1}]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"Adding all of these components yields the following scene:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]\\n   [Curve]\\n   [mb/Point {:size 8 :color \\\"#3090FF\\\"}]\\n\\n   [Vector]\\n\\n   [mb/Scale {:divide 10}]\\n   [mb/Ticks {:width 5 :size 15 :color \\\"black\\\"}]\\n   [mb/Format {:digits 2 :weight \\\"bold\\\"}]\\n   [mb/Label {:color \\\"red\\\"\\n              :zIndex 1}]]])\", :nextjournal/opts {:loc {:line 451, :end-line 474, :column 1, :end-column 29}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}] [Curve] [mb/Point {:size 8, :color \"#3090FF\"}] [Vector] [mb/Scale {:divide 10}] [mb/Ticks {:width 5, :size 15, :color \"black\"}] [mb/Format {:digits 2, :weight \"bold\"}] [mb/Label {:color \"red\", :zIndex 1}]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5dsFVKjkc1svz8bFEvH9xvcsUBrABu\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Here we apply \"] [:code [:<> \":zIndex\"]] [:<> \" similar to CSS to ensure the labels overlap in 2D\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"rather than being placed in 3D. It specifies a layer index, with 0 being the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"default, and layers \"] [:code [:<> \"1...n\"]] [:<> \" stacking on top. Negative \"] [:code [:<> \":zIndex\"]] [:<> \" is not\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"allowed.\"]] [:blockquote [:p [:<> \"Unlike CSS, large \"] [:code [:<> \":zIndex\"]] [:<> \" values are not recommended, as the higher the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \":zIndex\"]] [:<> \" the less depth resolution you have.\"]]] [\"h3\" {:id \"make-it-move\"} [:<> \"Make it move\"]] [:p [:<> \"Finally we'll add on a little bit of animation by adding a \"] [:code [:<> \"mb/Play\"]] [:<> \" block.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]\\n   [Curve]\\n   [mb/Point {:size 8 :color \\\"#3090FF\\\"}]\\n\\n   [Vector]\\n\\n   [mb/Scale {:divide 10}]\\n   [mb/Ticks {:width 5 :size 15 :color \\\"black\\\"}]\\n   [mb/Format {:digits 2 :weight \\\"bold\\\"}]\\n   [mb/Label {:color \\\"red\\\"\\n              :zIndex 1}]]\\n  [mb/Play\\n   {:target \\\"cartesian\\\"\\n    :pace 5\\n    :to 2\\n    :loop true\\n    :script\\n    [{:props {:range [[-2 2] [-1 1]]}}\\n     {:props {:range [[-4 4] [-2 2]]}}\\n     {:props {:range [[-2 2] [-1 1]]}}]}]])\", :nextjournal/opts {:loc {:line 488, :end-line 520, :column 1, :end-column 44}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54901__auto__] (clojure.core/let [result__54902__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}] [Curve] [mb/Point {:size 8, :color \"#3090FF\"}] [Vector] [mb/Scale {:divide 10}] [mb/Ticks {:width 5, :size 15, :color \"black\"}] [mb/Format {:digits 2, :weight \"bold\"}] [mb/Label {:color \"red\", :zIndex 1}]] [mb/Play {:target \"cartesian\", :pace 5, :to 2, :loop true, :script [{:props {:range [[-2 2] [-1 1]]}} {:props {:range [[-4 4] [-2 2]]}} {:props {:range [[-2 2] [-1 1]]}}]}]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54902__auto__) result__54902__auto__ [nextjournal.clerk.render/inspect result__54902__auto__])))), :hash \"5drQmp282NdLb9v8fkVg7ncTtxBXpC\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Here \"] [:code [:<> \":script\"]] [:<> \" defines the keyframes we'll be animating through. We specify\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \":props\"]] [:<> \" will change, namely the \"] [:code [:<> \":range\"]] [:<> \". We pass in the keyframes as an\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"array, which will assign them to evenly spaced keyframes \"] [:code [:<> \"(0, 1, 2)\"]] [:<> \".\"]] [:p [:<> \"We set the \"] [:code [:<> \":pace\"]] [:<> \" of the animation to 5 seconds per step, tell it to play\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"till keyframe time \"] [:code [:<> \"2\"]] [:<> \" and to \"] [:code [:<> \":loop\"]] [:<> \" afterwards.\"]] [\"h2\" {:id \"mathbox.cljs-via-sci\"} [:<> \"MathBox.cljs via SCI\"]] [:p [:code [:<> \"MathBox.cljs\"]] [:<> \" is compatible with \"] [:a {:href \"https://github.com/babashka/sci\"} [:<> \"SCI, the Small Clojure\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Interpreter\"]] [:<> \".\"]] [:p [:<> \"To install \"] [:code [:<> \"MathBox.cljs\"]] [:<> \" into your SCI context, require\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/mathbox.cljs/CURRENT/api/mathbox.sci\"} [:code [:<> \"mathbox.sci\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"namespace and call \"] [:code [:<> \"mathbox.sci/install!\"]] [:<> \":\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"(ns myproject.sci-extensions\\n  (:require [mathbox.sci]))\\n\\n(mathbox.sci/install!)\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"If you want more granular control, see the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/mathbox.cljs/CURRENT/api/mathbox.sci\"} [:<> \"cljdoc page for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"mathbox.sci\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for an SCI config and distinct SCI namespace objects that you can piece\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"together.\"]] [:blockquote [:p [:<> \"Note that \"] [:code [:<> \"MathBox.cljs\"]] [:<> \" does not ship with a dependency on SCI, so you'll\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"need to install your own version.\"]]] [\"h2\" {:id \"mathbox.cljs-via-clerk\"} [:<> \"MathBox.cljs via Clerk\"]] [:p [:<> \"Using \"] [:code [:<> \"MathBox.cljs\"]] [:<> \" with Nextjournal's \"] [:a {:href \"https://clerk.vision/\"} [:<> \"Clerk\"]] [:<> \" gives\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"you the ability to write notebooks like this one with embedded MathBox\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"constructions.\"]] [:p [:<> \"Doing this requires that you generate a custom ClojureScript build for your\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Clerk project. The easiest way to do this for an existing project is with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://clerk-utils.mentat.org/\"} [:code [:<> \"clerk-utils\"]] [:<> \" project\"]] [:<> \". Follow the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"instructions on the \"] [:a {:href \"https://clerk-utils.mentat.org/#custom-clojurescript-builds\"} [:code [:<> \"clerk-utils\"]] [:<> \" guide for custom\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"ClojureScript\"]] [:<> \".\"]] [:p [:<> \"If this is your first time using Clerk, use the \"] [:a {:href \"#project-template\"} [:code [:<> \"mathbox/clerk\"]] [:<> \" template\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"described below\"]] [:<> \" to generate a new project with all steps\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"described in \"] [:a {:href \"#mathbox.cljs-via-sci\"} [:<> \"\\\"MathBox.cljs via SCI\\\"\"]] [:<> \" already\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"completed.\"]] [\"h2\" {:id \"project-template\"} [:<> \"Project Template\"]] [:p [:code [:<> \"MathBox.cljs\"]] [:<> \" includes\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"a \"] [:a {:href \"https://github.com/seancorfield/deps-new\"} [:code [:<> \"deps-new\"]]] [:<> \" template called\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/tree/main/resources/mathbox/clerk\"} [:code [:<> \"mathbox/clerk\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"that makes it easy to configure a new Clerk project with everything described\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in \"] [:a {:href \"#mathbox.cljs-via-sci\"} [:<> \"\\\"MathBox.cljs via SCI\\\"\"]] [:<> \" already configured.\"]] [:p [:<> \"First, install the \"] [:a {:href \"https://github.com/seancorfield/deps-new\"} [:code [:<> \"deps-new\"]]] [:<> \" tool:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"clojure -Ttools install io.github.seancorfield/deps-new '{:git/tag \\\"v0.5.0\\\"}' :as new\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"To create a new Clerk project based on\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/tree/main/resources/mathbox/clerk\"} [:code [:<> \"mathbox/clerk\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in a folder called \"] [:code [:<> \"my-notebook-project\"]] [:<> \", run the following command:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div.markdown-viewer [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"clojure -Sdeps '{:deps {io.github.mentat-collective/mathbox.cljs {:git/sha \\\"997f89ad716181234b9b291b161b209aa7fbc9fd\\\"}}}' \\\\\\n-Tnew create \\\\\\n:template mathbox/clerk \\\\\\n:name myusername/my-notebook-project\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"The \"] [:code [:<> \"README.md\"]] [:<> \" file in the generated project contains information on how to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"develop within the new project.\"]] [:p [:<> \"If you have an existing Clerk notebook project and are considering adding\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"MathBox.cljs\"]] [:<> \", you might consider\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"using \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/tree/main/resources/mathbox/clerk\"} [:code [:<> \"mathbox/clerk\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to get some ideas on how to structure your own project.\"]] [\"h2\" {:id \"guides\"} [:<> \"Guides\"]] [:p [:<> \"The following sequence of guides is a work in progress. Each section is\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"either filled out, or holds notes on all of the stuff that I'd like to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"document.\"]] [\"h3\" {:id \"configuring-mathbox\"} [:<> \"Configuring MathBox\"]] [:p [:<> \"TODO Talk about how to configure the MathBox component etc\"]] [:p [:<> \"What is threestrap, how does it all relate?\"]] [\"h4\" {:id \"threestrap-configuration\"} [:<> \"Threestrap configuration\"]] [\"h3\" {:id \"supported-primitives\"} [:<> \"Supported Primitives\"]] [:p [:<> \"Link to the examples directory, and to the cljdoc.\"]] [\"h3\" {:id \"reactivity\"} [:<> \"Reactivity\"]] [\"h3\" {:id \"examples-directory\"} [:<> \"Examples Directory\"]] [\"h3\" {:id \"which-components-can-nest?\"} [:<> \"Which components can nest?\"]] [:ul [:li [:<> [:<> \"\\\"view\\\",\"]]] [:li [:<> [:<> \"\\\"cartesian\\\",\"]]] [:li [:<> [:<> \"\\\"cartesian4\\\",\"]]] [:li [:<> [:<> \"\\\"polar\\\",\"]]] [:li [:<> [:<> \"\\\"spherical\\\",\"]]] [:li [:<> [:<> \"\\\"stereographic\\\",\"]]] [:li [:<> [:<> \"\\\"stereographic4\\\",\"]]] [:li [:<> [:<> \"\\\"transform\\\",\"]]] [:li [:<> [:<> \"\\\"transform4\\\",\"]]] [:li [:<> [:<> \"\\\"vertex\\\",\"]]] [:li [:<> [:<> \"\\\"fragment\\\",\"]]] [:li [:<> [:<> \"\\\"layer\\\",\"]]] [:li [:<> [:<> \"\\\"mask\\\",\"]]] [:li [:<> [:<> \"\\\"group\\\",\"]]] [:li [:<> [:<> \"\\\"inherit\\\",\"]]] [:li [:<> [:<> \"\\\"root\\\",\"]]] [:li [:<> [:<> \"\\\"unit\\\",\"]]] [:li [:<> [:<> \"\\\"rtt\\\",\"]]] [:li [:<> [:<> \"\\\"clock\\\",\"]]] [:li [:<> [:<> \"\\\"now\\\",\"]]] [:li [:<> [:<> \"\\\"move\\\",\"]]] [:li [:<> [:<> \"\\\"present\\\",\"]]] [:li [:<> [:<> \"\\\"reveal\\\",\"]]] [:li [:<> [:<> \"\\\"slide\\\",\"]]]] [\"h3\" {:id \"options-vs-binds\"} [:<> \"Options vs Binds\"]] [\"h3\" {:id \"clumping-components-with-fragments\"} [:<> \"Clumping Components with Fragments\"]] [\"h3\" {:id \"printing-the-dom\"} [:<> \"Printing the DOM\"]] [:p [:<> \"This is hard to do now because we don't have an obvious hook spot.\"]] [\"h3\" {:id \"control-types\"} [:<> \"Control Types\"]] [:p [:<> \"Talk about orbitcontrols etc...\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"[\\\"three/examples/jsm/controls/OrbitControls.js\\\" :as OrbitControls]\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [\"h2\" {:id \"glossary\"} [:<> \"Glossary\"]] [\"h3\" {:id \"dom\"} [:<> \"DOM\"]] [:ul [:li [:<> [:<> \"DOM - Document Object Model. In general, refers to the HTML on the page. In MathBox, refers to the virtual DOM of nodes and their hierarchical structure.\"]]] [:li [:<> [:<> \"Node - An instance of a primitive, inserted into the MathBox DOM.\"]]] [:li [:<> [:<> \"Primitive - One of the basic building blocks of MathBox.\"]]] [:li [:<> [:<> \"Prop or Property - An individual value set on a node. Collectively \"] [:em [:<> \"props\"]] [:<> \".\"]]] [:li [:<> [:<> \"Selection - A subset of the DOM. Can be the entire DOM or all nodes matching a selector. Selections typically match a CSS-like selector, for example the name of a primitive (\"] [:code [:<> \"\\\"camera\\\"\"]] [:<> \"), an id (\"] [:code [:<> \"\\\"#colors\\\"\"]] [:<> \"), or a class (\"] [:code [:<> \"\\\".points\\\"\"]] [:<> \").\"]]]] [\"h3\" {:id \"graphics\"} [:<> \"Graphics\"]] [:ul [:li [:<> [:<> \"RTT - Render To Texture. Rather than drawing directly to the screen, renders to an image that can be processed further.\"]]] [:li [:<> [:<> \"Shader - A program written in GLSL that runs on the GPU. GLSL syntax is similar to C++.\"]]] [:li [:<> [:a {:href \"https://github.com/unconed/shadergraph\"} [:<> \"ShaderGraph\"]] [:<> \" - A component/dependency of MathBox that dynamically compiles small GLSL functions (snippets) into a single shader.\"]]] [:li [:<> [:a {:href \"http://threejs.org/\"} [:<> \"Three.js\"]] [:<> \" - A popular library for WebGL. Used by MathBox for cameras and controls.\"]]] [:li [:<> [:a {:href \"https://github.com/unconed/threestrap\"} [:<> \"Threestrap\"]] [:<> \" - A bootstrapping tool to set options for Three.js.\"]]] [:li [:<> [:<> \"WebGL - JavaScript API for rendering 3D scenes, used by MathBox.\"]]]] [\"h3\" {:id \"data\"} [:<> \"Data\"]] [:ul [:li [:<> [:code [:<> \"expr\"]] [:<> \" - A prop on data primitives that expects a function, whose arguments are:\"]]] [:li [:<> [:code [:<> \"emit\"]] [:<> \" - Another function. When called, its arguments become data.\"]]] [:li [:<> [:code [:<> \"x, y, z\"]] [:<> \" - Up to three numbers indicating the location of the current point. Interval (1D), Area (2D), and Volume (3D) will evenly sample the current view for these coordinates. If you don't need them, use Array, Matrix, or Voxel, which omit these arguments.\"]]] [:li [:<> [:code [:<> \"i, j, k\"]] [:<> \" - One to three indices of the current point.\"]]] [:li [:<> [:code [:<> \"t\"]] [:<> \" - Time elapsed since program start, in seconds.\"]]] [:li [:<> [:code [:<> \"d\"]] [:<> \" - Time delta since last frame, in seconds.\"]]] [:li [:<> [:<> \"Width - The size of the data in the \"] [:em [:<> \"x\"]] [:<> \" direction, i.e. the number of rows.\"]]] [:li [:<> [:<> \"Height - The size of the data in the \"] [:em [:<> \"y\"]] [:<> \" direction, i.e. the number of columns.\"]]] [:li [:<> [:<> \"Depth - The size of the data in the \"] [:em [:<> \"z\"]] [:<> \" direction, i.e. the number of stacks.\"]]] [:li [:<> [:<> \"Items - The size of the data in the \"] [:em [:<> \"w\"]] [:<> \" direction, i.e. the number of data points per spatial location. The number of times \"] [:code [:<> \"emit\"]] [:<> \" is called in the \"] [:code [:<> \"expr\"]] [:<> \" function.\"]]] [:li [:<> [:<> \"Channels - How many numbers are associated with a data point. The number of arguments passed to \"] [:code [:<> \"emit\"]] [:<> \". This is not an array dimension; it is how many numbers make up one array element.\"]]] [:li [:<> [:<> \"History - The process of storing previous 1D or 2D data in an unused dimension.\"]]] [:li [:<> [:<> \"Swizzling - The process of isolating, reordering, and/or duplicating elements of a vector, by listing indices. For example, the swizzle \"] [:code [:<> \"\\\"yxz\\\"\"]] [:<> \" switches x and y. The \"] [:code [:<> \"swizzle\"]] [:<> \" primitive operates on array elements; the \"] [:code [:<> \"transpose\"]] [:<> \" primitive operates on the dimensions of the array itself.\"]]]] [\"h2\" {:id \"who-is-using-mathbox-/-mathbox.cljs?\"} [:<> \"Who is using MathBox / MathBox.cljs?\"]] [:p [:<> \"The following sites are using MathBox or MathBox-react:\"]] [:ul [:li [:<> [:a {:href \"https://www.math3d.org/\"} [:<> \"Math3D online graphing calculator\"]]]] [:li [:<> [:a {:href \"https://kineticgraphs.org/\"} [:<> \"KineticGraphs JS Engine\"]] [:<> \" (\"] [:a {:href \"https://github.com/cmakler/kgjs\"} [:<> \"code\"]] [:<> \")\"]]] [:li [:<> [:a {:href \"https://textbooks.math.gatech.edu/ila/\"} [:<> \"Textbook: \\\"Interactive Linear Algebra\\\"\"]] [:<> \" (\"] [:a {:href \"https://github.com/QBobWatson/ila\"} [:<> \"code\"]] [:<> \")\"]]] [:li [:<> [:<> \"Many visualizations at \"] [:a {:href \"https://sam.zhang.fyi/#projects\"} [:<> \"Sam Zhang's homepage\"]]]] [:li [:<> [:<> \"Jesse Bettencourt's \"] [:a {:href \"http://jessebett.com/TorusKnotFibration/\"} [:<> \"Torus Knot Fibration\"]] [:<> \" Master's project (\"] [:a {:href \"https://github.com/jessebett/TorusKnotFibration\"} [:<> \"code\"]] [:<> \")\"]]] [:li [:<> [:a {:href \"https://rockey-math.github.io/mathbox/graph3d-curve\"} [:<> \"Interactive knot visualizations\"]]]]] [:p [:<> \"And the many demos listed on \"] [:a {:href \"https://groups.google.com/g/mathbox/c/Uvyb5fHaLq4\"} [:<> \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"thread\"]] [:<> \" of the \"] [:a {:href \"https://groups.google.com/forum/#!forum/mathbox\"} [:<> \"MathBox\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Google group\"]] [:<> \".\"]] [\"h2\" {:id \"thanks-and-support\"} [:<> \"Thanks and Support\"]] [:p [:<> \"To support this work and my other open source projects, consider sponsoring\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"me via my \"] [:a {:href \"https://github.com/sponsors/sritchie\"} [:<> \"GitHub Sponsors page\"]] [:<> \". Thank\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"you to my current sponsors!\"]] [:p [:<> \"I'm grateful to \"] [:a {:href \"https://www.clojuriststogether.org/\"} [:<> \"Clojurists Together\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for financial support during this library's creation. Please\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"consider \"] [:a {:href \"https://www.clojuriststogether.org/developers/\"} [:<> \"becoming a member\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to support this work and projects like it.\"]] [:p [:<> \"For more information on me and my work, visit \"] [:a {:href \"https://samritchie.io\"} [:<> \"https://samritchie.io\"]] [:<> \".\"]] [\"h2\" {:id \"license\"} [:<> \"License\"]] [:p [:<> \"Copyright © 2022-2023 Sam Ritchie.\"]] [:p [:<> \"Distributed under the \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/blob/main/LICENSE\"} [:<> \"MIT\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"License\"]] [:<> \".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"See \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/blob/main/LICENSE\"} [:<> \"LICENSE\"]] [:<> \".\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}}], :css-class nil}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5duAFDxE4sCnRX71Wo6zeCpC9C3djE\"}}}, :cljs-namespaces [mathbox.sci-extensions], :index \"dev/mathbox/notebook.clj\", :browse? false, :git/url \"https://github.com/mentat-collective/mathbox.cljs\", :paths [\"dev/mathbox/examples/math/pq_knot.cljc\" \"dev/mathbox/examples/index.md\" \"dev/mathbox/examples/math/helitorus.cljc\" \"dev/mathbox/examples/test/curvedots.clj\" \"dev/mathbox/examples/test/closed_line.clj\" \"dev/mathbox/examples/test/context.clj\" \"dev/mathbox/examples/math/color_cube.clj\" \"dev/mathbox/examples/math/hopf.clj\" \"dev/mathbox/examples/test/compose.clj\" \"dev/mathbox/examples/test/camera.clj\" \"dev/mathbox/examples/test/face.cljc\" \"dev/mathbox/examples/test/closed_surface.clj\" \"dev/mathbox/examples/dataviz/scatter.clj\" \"dev/mathbox/examples/math/field_lines.clj\" \"dev/mathbox/examples/test/axis.clj\" \"dev/mathbox/notebook.clj\" \"dev/mathbox/examples/test/curve.clj\" \"dev/mathbox/examples/math/exponential.clj\" \"dev/mathbox/examples/test/cartesian4.clj\"], :resource->url {\"/js/viewer.js\" \"_data/8Vtn8tTuPpYgmr8cZLGf4kqdc7Vz3imqwFWf2ecNHVwKAEf8wCq2yn92qRy2yxDY3D9bucaRZKRuEY7rEnTmcc8BxN.js\"}, :current-path \"dev/mathbox/notebook.clj\", :bundle? false, :git/sha \"997f89ad716181234b9b291b161b209aa7fbc9fd\", :path->url {\"dev/mathbox/examples/math/pq_knot.cljc\" \"dev/mathbox/examples/math/pq_knot.html\", \"dev/mathbox/examples/index.md\" \"dev/mathbox/examples/\", \"dev/mathbox/examples/math/helitorus.cljc\" \"dev/mathbox/examples/math/helitorus.html\", \"dev/mathbox/examples/test/curvedots.clj\" \"dev/mathbox/examples/test/curvedots.html\", \"dev/mathbox/examples/test/closed_line.clj\" \"dev/mathbox/examples/test/closed_line.html\", \"dev/mathbox/examples/test/context.clj\" \"dev/mathbox/examples/test/context.html\", \"dev/mathbox/examples/math/color_cube.clj\" \"dev/mathbox/examples/math/color_cube.html\", \"dev/mathbox/examples/math/hopf.clj\" \"dev/mathbox/examples/math/hopf.html\", \"dev/mathbox/examples/test/compose.clj\" \"dev/mathbox/examples/test/compose.html\", \"dev/mathbox/examples/test/camera.clj\" \"dev/mathbox/examples/test/camera.html\", \"dev/mathbox/examples/test/face.cljc\" \"dev/mathbox/examples/test/face.html\", \"dev/mathbox/examples/test/closed_surface.clj\" \"dev/mathbox/examples/test/closed_surface.html\", \"dev/mathbox/examples/dataviz/scatter.clj\" \"dev/mathbox/examples/dataviz/scatter.html\", \"dev/mathbox/examples/math/field_lines.clj\" \"dev/mathbox/examples/math/field_lines.html\", \"dev/mathbox/examples/test/axis.clj\" \"dev/mathbox/examples/test/axis.html\", \"dev/mathbox/notebook.clj\" \"\", \"dev/mathbox/examples/test/curve.clj\" \"dev/mathbox/examples/test/curve.html\", \"dev/mathbox/examples/math/exponential.clj\" \"dev/mathbox/examples/math/exponential.html\", \"dev/mathbox/examples/test/cartesian4.clj\" \"dev/mathbox/examples/test/cartesian4.html\"}, :expanded-paths [\"dev/mathbox/examples/index.md\" \"dev/mathbox/examples/dataviz/scatter.clj\" \"dev/mathbox/examples/math/field_lines.clj\" \"dev/mathbox/examples/math/color_cube.clj\" \"dev/mathbox/examples/math/hopf.clj\" \"dev/mathbox/examples/math/helitorus.cljc\" \"dev/mathbox/examples/math/exponential.clj\" \"dev/mathbox/examples/math/pq_knot.cljc\" \"dev/mathbox/examples/test/face.cljc\" \"dev/mathbox/examples/test/curvedots.clj\" \"dev/mathbox/examples/test/camera.clj\" \"dev/mathbox/examples/test/closed_line.clj\" \"dev/mathbox/examples/test/curve.clj\" \"dev/mathbox/examples/test/compose.clj\" \"dev/mathbox/examples/test/context.clj\" \"dev/mathbox/examples/test/axis.clj\" \"dev/mathbox/examples/test/closed_surface.clj\" \"dev/mathbox/examples/test/cartesian4.clj\" \"dev/mathbox/notebook.clj\"], :cname \"mathbox.mentat.org\", :watch-paths [\"dev\"], :report-fn #object[nextjournal.clerk.builder$stdout_reporter 0x8b2658b \"nextjournal.clerk.builder$stdout_reporter@8b2658b\"]}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
let opts = nextjournal.clerk.sci_env.read_string(state)
nextjournal.clerk.static_app.init(opts)
</script></body></html>
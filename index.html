<!DOCTYPE html>
<html><head><title>MathBox.cljs</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="Build StatusLicensecljdoc badgeClojars Project" property="og:description"><meta content="MathBox.cljs" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><link href="https://unpkg.com/mathbox@2.3.1/build/mathbox.css" rel="stylesheet" type="text/css"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  darkMode: "class",
  content: ["./tw/viewer.js", "./tw/**/*.edn"],
  safelist: ['dark'],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded dark:bg-gray-800;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h2 {
    /*We cannot collapse margins due to nesting but we want to*/
    /*keep the h2’s large margin visible*/
    @apply font-condensed font-bold mt-8 first:mt-2;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }

  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.dark .disclose,
.dark .disclose:hover {
  border-color: white transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.viewer-markdown ul ul {
  @apply mt-1 mb-0;
}

/* compact TOC */
.viewer-markdown .toc ul {
  list-style: none;
  @apply my-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.viewer-code {
  @apply font-mono bg-slate-100 rounded-sm text-sm overflow-x-auto dark:bg-gray-800;
}
.viewer-code .cm-content {
  @apply py-4 px-8;
}
@media (min-width: 960px){
  .viewer-notebook .viewer-code .cm-content {
    @apply py-4 pl-12;
  }
}
/* Don’t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Syntax Highlighting */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono leading-[1.25rem]; }
.cmt-strong, .cmt-heading { @apply font-bold; }
.cmt-italic, .cmt-emphasis { @apply italic; }
.cmt-strikethrough { @apply line-through; }
.cmt-link { @apply underline; }
.untyped-value { @apply whitespace-nowrap; }

.cm-editor, .cmt-default, .viewer-result {
  @apply text-slate-800 dark:text-slate-300;
}
.cmt-keyword {
  @apply text-purple-800 dark:text-pink-400;
}
.cmt-atom, .cmt-bool, .cmt-url, .cmt-contentSeparator, .cmt-labelName {
  @apply text-blue-900 dark:text-blue-300;
}
.cmt-inserted, .cmt-literal {
  @apply text-emerald-700 dark:text-emerald-200;
}
.cmt-string, .cmt-deleted {
  @apply text-rose-700 dark:text-sky-300;
}
.cmt-italic.cmt-string {
  @apply dark:text-sky-200;
}
.cmt-regexp, .cmt-escape {
  @apply text-orange-500 dark:text-orange-300;
}
.cmt-variableName {
  @apply text-blue-800 dark:text-sky-300;
}
.cmt-typeName, .cmt-namespace {
  @apply text-emerald-600 dark:text-emerald-300;
}
.cmt-className {
  @apply text-teal-600 dark:text-teal-200;
}
.cmt-macroName {
  @apply text-teal-700 dark:text-teal-200;
}
.cmt-propertyName {
  @apply text-blue-700 dark:text-blue-200;
}
.cmt-comment {
  @apply text-slate-500 dark:text-slate-400;
}
.cmt-meta {
  @apply text-slate-600 dark:text-slate-400;
}
.cmt-invalid {
  @apply text-red-500 dark:text-red-300;
}

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.viewer-notebook,
.viewer-markdown {
  @apply prose
    dark:prose-invert
    prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
    dark:prose-a:text-blue-300
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-4
    prose-table:mt-0
    prose-th:mb-0
    prose-img:my-0
    prose-code:font-medium prose-code:bg-slate-100
    max-w-none;
}
.viewer-markdown blockquote p:first-of-type:before,
.viewer-markdown blockquote p:last-of-type:after {
  @apply content-none;
}

/* Images */
/* --------------------------------------------------------------- */


/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.viewer-markdown .toc      { @apply mt-4; }
.viewer-markdown h1 + .toc { @apply mt-8; }

.viewer-markdown .toc h1,
.viewer-markdown .toc h2,
.viewer-markdown .toc h3,
.viewer-markdown .toc h4,
.viewer-markdown .toc h5,
.viewer-markdown .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.viewer-markdown .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.viewer-markdown .toc li    { @apply m-0; }
.viewer-markdown .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.viewer-notebook { @apply py-16; }
#clerk-static-app .viewer-notebook { @apply pt-[0.8rem] pb-16; }
.viewer-markdown *:first-child:not(.viewer-code):not(li):not(h2) { @apply mt-0; }
/*.viewer + .viewer { @apply mt-6; }*/
.viewer + .viewer-result { @apply mt-0; }
.viewer-code + .viewer-result { @apply mt-3; }
.viewer-markdown + .viewer-markdown { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-3px] inline-flex justify-center items-center w-[18px] h-[18px]
    rounded-full bg-slate-100 border border-slate-300 hover:bg-slate-200 hover:border-slate-300
    m-0 ml-[4px] cursor-pointer;
}
.sidenote {
  @apply hidden float-left clear-both mx-[2.5%] my-4 text-xs relative w-[95%];
}
.sidenote-ref.expanded + .sidenote {
  @apply block;
}
@media (min-width: 860px) {
  .sidenote-ref {
    @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
  }
  .sidenote sup { @apply inline; }
  .viewer-markdown .contains-sidenotes p { @apply max-w-[65%]; }
  .viewer-markdown p .sidenote {
    @apply mr-[-54%] mt-[0.2rem] w-1/2 float-right clear-right relative block;
  }
}
.viewer-code + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-code-folded + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-result + .viewer-result {
  @apply mt-2;
}
.viewer-code + .viewer-code-folded {
  @apply mt-4;
}
.viewer-result {
  @apply leading-tight mb-6;
}
.viewer-result figure {
  @apply mt-0 !important;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by tw’s border-color */
.katex * { @apply border-black; }
</style><script src="/js/_data/8VwZZs9zkTJXFdrsW8kUJRxvfaSRbecpwBG7EoggjqnCE1VkApSquTqvXeLzVaBW4z18FPeFFYiko9jiCsmJoN6UcD.js" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-code:400,700%7Cfira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script type="module">let viewer = nextjournal.clerk.sci_env
let app = nextjournal.clerk.static_app
let opts = viewer.read_string("{:out-path \"public\", :path->doc {\"dev/mathbox/notebook.clj\" {:path [], :nextjournal/value {:toc {:type :toc, :children [{:type :toc, :content [{:type :text, :text \"MathBox.cljs\"}], :heading-level 1, :attrs {:id \"mathbox.cljs\"}, :path [:content 0], :children [{:type :toc, :content [{:type :text, :text \"What is MathBox?\"}], :heading-level 2, :attrs {:id \"what-is-mathbox?\"}, :path [:content 3]} {:type :toc, :content [{:type :text, :text \"Quickstart\"}], :heading-level 2, :attrs {:id \"quickstart\"}, :path [:content 10]} {:type :toc, :content [{:type :text, :text \"Your First Scene\"}], :heading-level 2, :attrs {:id \"your-first-scene\"}, :path [:content 17], :children [{:type :toc, :content [{:type :text, :text \"Start with the camera\"}], :heading-level 3, :attrs {:id \"start-with-the-camera\"}, :path [:content 22]} {:type :toc, :content [{:type :text, :text \"Add a coordinate system\"}], :heading-level 3, :attrs {:id \"add-a-coordinate-system\"}, :path [:content 30]} {:type :toc, :content [{:type :text, :text \"Add some data and draw it\"}], :heading-level 3, :attrs {:id \"add-some-data-and-draw-it\"}, :path [:content 41]} {:type :toc, :content [{:type :text, :text \"Add more shapes\"}], :heading-level 3, :attrs {:id \"add-more-shapes\"}, :path [:content 51]} {:type :toc, :content [{:type :text, :text \"Add some floating labels\"}], :heading-level 3, :attrs {:id \"add-some-floating-labels\"}, :path [:content 57]} {:type :toc, :content [{:type :text, :text \"Make it move\"}], :heading-level 3, :attrs {:id \"make-it-move\"}, :path [:content 69]}]} {:type :toc, :content [{:type :text, :text \"Guides\"}], :heading-level 2, :attrs {:id \"guides\"}, :path [:content 73], :children [{:type :toc, :content [{:type :text, :text \"Configuring MathBox\"}], :heading-level 3, :attrs {:id \"configuring-mathbox\"}, :path [:content 75], :children [{:type :toc, :content [{:type :text, :text \"Threestrap configuration\"}], :heading-level 4, :attrs {:id \"threestrap-configuration\"}, :path [:content 78]}]} {:type :toc, :content [{:type :text, :text \"Supported Primitives\"}], :heading-level 3, :attrs {:id \"supported-primitives\"}, :path [:content 79]} {:type :toc, :content [{:type :text, :text \"Reactivity\"}], :heading-level 3, :attrs {:id \"reactivity\"}, :path [:content 81]} {:type :toc, :content [{:type :text, :text \"Examples Directory\"}], :heading-level 3, :attrs {:id \"examples-directory\"}, :path [:content 82]} {:type :toc, :content [{:type :text, :text \"Which components can nest?\"}], :heading-level 3, :attrs {:id \"which-components-can-nest?\"}, :path [:content 83]} {:type :toc, :content [{:type :text, :text \"Options vs Binds\"}], :heading-level 3, :attrs {:id \"options-vs-binds\"}, :path [:content 85]} {:type :toc, :content [{:type :text, :text \"Clumping Components with Fragments\"}], :heading-level 3, :attrs {:id \"clumping-components-with-fragments\"}, :path [:content 86]} {:type :toc, :content [{:type :text, :text \"Printing the DOM\"}], :heading-level 3, :attrs {:id \"printing-the-dom\"}, :path [:content 87]} {:type :toc, :content [{:type :text, :text \"Control Types\"}], :heading-level 3, :attrs {:id \"control-types\"}, :path [:content 89]}]} {:type :toc, :content [{:type :text, :text \"Glossary\"}], :heading-level 2, :attrs {:id \"glossary\"}, :path [:content 92], :children [{:type :toc, :content [{:type :text, :text \"DOM\"}], :heading-level 3, :attrs {:id \"dom\"}, :path [:content 93]} {:type :toc, :content [{:type :text, :text \"Graphics\"}], :heading-level 3, :attrs {:id \"graphics\"}, :path [:content 95]} {:type :toc, :content [{:type :text, :text \"Data\"}], :heading-level 3, :attrs {:id \"data\"}, :path [:content 97]}]} {:type :toc, :content [{:type :text, :text \"Who is using MathBox / MathBox.cljs?\"}], :heading-level 2, :attrs {:id \"who-is-using-mathbox-/-mathbox.cljs?\"}, :path [:content 99]} {:type :toc, :content [{:type :text, :text \"Thanks and Support\"}], :heading-level 2, :attrs {:id \"thanks-and-support\"}, :path [:content 103]} {:type :toc, :content [{:type :text, :text \"License\"}], :heading-level 2, :attrs {:id \"license\"}, :path [:content 107]}]}]}, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :auto-expand-results? nil, :scope {:namespace :mathbox.notebook}, :bundle? false, :open-graph {:type \"article:clerk\", :title \"MathBox.cljs\", :description \"Build StatusLicensecljdoc badgeClojars Project\"}, :title \"MathBox.cljs\", :blocks [{:nextjournal/value [:div.viewer-markdown [\"h1\" {:id \"mathbox.cljs\"} [:span \"MathBox.cljs\"]] [:p [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/actions/workflows/kondo.yml\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://github.com/mentat-collective/mathbox.cljs/actions/workflows/kondo.yml/badge.svg?branch=main\", :alt \"\"}], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/blob/main/LICENSE\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/badge/license-MIT-brightgreen.svg\", :alt \"\"}], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:a {:href \"https://cljdoc.org/d/org.mentat/mathbox.cljs/CURRENT\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://cljdoc.org/badge/org.mentat/mathbox.cljs\", :alt \"\"}], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:a {:href \"https://clojars.org/org.mentat/mathbox.cljs\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/mathbox.cljs.svg\", :alt \"\"}], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}]]] [:blockquote [:p [:span \"The interactive documentation on this page was generated from \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/blob/c278809778066077583ee91772a76b99db8c7b1e/dev/mathbox/notebook.clj\"} [:span \"this source\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"file\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"using \"] [:a {:href \"https://github.com/nextjournal/clerk\"} [:span \"Clerk\"]] [:span \". Follow\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"the \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/tree/main#interactive-documentation-via-clerk\"} [:span \"instructions in the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"README\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"to run and modify this notebook on your machine!\"]] [:p [:span \"See the \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs\"} [:span \"Github\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"project\"]] [:span \" for more\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"details, and the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/mathbox.cljs/CURRENT/doc/readme\"} [:span \"cljdoc\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"page\"]] [:span \" for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"detailed API documentation.\"]]] [\"h2\" {:id \"what-is-mathbox?\"} [:span \"What is MathBox?\"]] [:p [:span \"MathBox is a library for rendering presentation-quality math diagrams in a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"browser using WebGL. Built on top\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"of \"] [:a {:href \"https://threejs.org/\"} [:span \"Three.js\"]] [:span \", \"] [:a {:href \"https://github.com/unconed/threestrap\"} [:span \"Threestrap\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:a {:href \"https://github.com/unconed/shadergraph\"} [:span \"ShaderGraph\"]] [:span \", it provides a clean\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"API to visualize mathematical relationships and animate them declaratively.\"]] [:p [:span \"In simple use cases, it can elegantly draw 2D, 3D or 4D graphs, including\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"points, vectors, labels, wireframes and shaded surfaces.\"]] [:p [:span \"In more advanced use, data can be processed inside MathBox, compiled into GPU\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"programs which can feed back into themselves. By combining shaders and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"render-to-texture effects, you can create sophisticated visual effects,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"including classic Winamp-style music visualizers.\"]] [:p [:span \"For example, here is an example of a dynamically updating surface, monitored\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"by an orbiting camera:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/width :wide\\n  :nextjournal.clerk/visibility {:code :fold}}\\n(show-sci\\n [mathbox.examples.test.face/Face])\", :nextjournal/opts {:loc {:line 48, :column 1}}, :nextjournal/viewer {:name :code-folded, :render-fn #viewer-fn nextjournal.clerk.render/render-folded-code, :hash \"5dqxn3akuEMwMuR49nVx1Xvqr1jYQM\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do [mathbox.examples.test.face/Face])] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5dtg8zn631xSj6eQE7KhKQLTs6S7HC\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:blockquote [:p [:span \"The code for this particular example\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"lives \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/tree/main/dev/mathbox/examples/test/face.cljc\"} [:span \"here\"]] [:span \".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Visit the \"] [:a {:href \"https://mathbox.mentat.org/dev/mathbox/examples/index.html\"} [:span \"Examples\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"index\"]] [:span \" to see\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"many more.\"]]] [:p [:a {:href \"https://github.com/mentat-collective/mathbox.cljs\"} [:span \"MathBox.cljs\"]] [:span \" extends\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"MathBox (via \"] [:a {:href \"https://github.com/ChristopherChudzicki/mathbox-react\"} [:span \"MathBox-react\"]] [:span \")\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"with a \"] [:a {:href \"https://reagent-project.github.io/\"} [:span \"Reagent\"]] [:span \" component that makes it\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"easy to define MathBox constructions inside of a user interface built with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"ClojureScript.\"]] [\"h2\" {:id \"quickstart\"} [:span \"Quickstart\"]] [:p [:span \"Install \"] [:code [:span \"MathBox.cljs\"]] [:span \" into your ClojureScript project using the instructions\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"at its Clojars page:\"]] [:p [:a {:href \"https://clojars.org/org.mentat/mathbox.cljs\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/mathbox.cljs.svg\", :alt \"\"}], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}]]] [:p [:span \"Or grab the most recent code using a Git dependency:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \";; deps\\n{io.github.mentat-collective/mathbox.cljs\\n  {:git/sha \\\"c278809778066077583ee91772a76b99db8c7b1e\\\"}}\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:p [:span \"Require \"] [:code [:span \"mathbox.core\"]] [:span \" in your ClojureScript namespace:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"(ns my-app\\n  (:require [mathbox]\\n            [mathbox.primitives :as mb]\\n            [reagent.core :as reagent]))\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [\"h2\" {:id \"your-first-scene\"} [:span \"Your First Scene\"]] [:p [:span \"You create MathBox.cljs scenes by declaring a MathBox component tree, similar\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"to writing an HTML DOM using a Reagent component tree.\"]] [:p [:span \"To show anything in MathBox, you need to establish four things:\"]] [:ol [:li [:<> [:span \"A camera that is looking at...\"]]] [:li [:<> [:span \"A coordinate system which contains...\"]]] [:li [:<> [:span \"Geometrical data represented via...\"]]] [:li [:<> [:span \"A choice of shape to draw it as.\"]]]] [:p [:span \"For this example, we'll build a 2D rectangular view containing an array of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"points, drawn as a continuous line.\"]] [\"h3\" {:id \"start-with-the-camera\"} [:span \"Start with the camera\"]] [:p [:span \"The default 3D camera starts out at \"] [:code [:span \"[0 0 0]\"]] [:span \" (i.e. X, Y, Z), right in the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"middle of our diagram. +Z goes out of the screen and -Z into the screen.\"]] [:p [:span \"Declare a scene with \"] [:code [:span \"mathbox/MathBox\"]] [:span \" (along with some options for the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"container).\"]] [:p [:span \"Insert a \"] [:code [:span \"mathbox.primitives/Camera\"]] [:span \" component and pull back its \"] [:code [:span \":position\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"3 units to \"] [:code [:span \"[0 0 3]\"]] [:span \". We also set \"] [:code [:span \":proxy\"]] [:span \" to true: this allows interactive\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"camera controls to override our given position.\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/width :wide}\\n(show-sci\\n [mathbox/MathBox\\n  {:container\\n   {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}}\\n  [mb/Camera\\n   {:position [0 0 3]\\n    :proxy true}]])\", :nextjournal/opts {:loc {:line 117, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}} [mb/Camera {:position [0 0 3], :proxy true}]])] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5drLxVHNofsSB2VYDgJK7qxRZPBG4x\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"We now have an empty scene with a loading bar and nothing to look at. Our\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"MathBox DOM now looks like:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"<root>\\n  <camera proxy={true} position={[0, 0, 3]} />\\n</root>\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:blockquote [:p [:span \"See \"] [:a {:href \"#printing-the-dom\"} [:span \"Printing the DOM\"]] [:span \" below for details on how to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"generate this representation at the console.\"]]] [:p [:span \"If you pass a one-argument function via the \"] [:code [:span \":ref\"]] [:span \" argument to any component,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"you'll receive a MathBox selection that points to the \"] [:code [:span \"<camera />\"]] [:span \" element.\"]] [\"h3\" {:id \"add-a-coordinate-system\"} [:span \"Add a coordinate system\"]] [:p [:span \"Now we're going to set up a simple 2D cartesian coordinate system. We'll make\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"it twice as wide as high.\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/width :wide}\\n(show-sci\\n '[mathbox/MathBox\\n   {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}}\\n   [mb/Camera {:position [0 0 3]\\n               :proxy true}]\\n   [mb/Cartesian\\n    {:range [[-2 2] [-1 1]]\\n     :scale [2 1]}]])\", :nextjournal/opts {:loc {:line 146, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do (quote [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]}]]))] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5dtKSa57LDvJ1BTYMcRxrZbF7qquko\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"The \"] [:code [:span \":range\"]] [:span \" specifies the area we're looking at as a vector of pairs: \"] [:code [:span \"[-2  2]\"]] [:span \" in the \"] [:code [:span \"X\"]] [:span \" direction, \"] [:code [:span \"[-1, 1]\"]] [:span \" in the \"] [:code [:span \"Y\"]] [:span \" direction.\"]] [:p [:span \"The \"] [:code [:span \"scale\"]] [:span \" specifies the projected size of the view, in this case \"] [:code [:span \"[2 1]\"]] [:span \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"i.e. 2 \"] [:code [:span \"X\"]] [:span \" units and 1 \"] [:code [:span \"Y\"]] [:span \" unit.\"]] [:p [:span \"Add two axes and a grid as children of the \"] [:code [:span \"mb/Cartesian\"]] [:span \" component so we can\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"finally see something:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/width :wide}\\n(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3}]\\n   [mb/Axis {:axis 2 :width 3}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]]])\", :nextjournal/opts {:loc {:line 165, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3}] [mb/Axis {:axis 2, :width 3}] [mb/Grid {:width 2, :divideX 20, :divideY 10}]]])] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5dsA2jLWJeJxVbCcZX5BowGDsAmTBa\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"You should see gridlines appear in 50% gray, the default color, at the given\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"widths. The DOM now looks like this:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"<root>\\n  <camera proxy={true} position={[0, 0, 3]} />\\n  <cartesian range={[[-2, 2], [-1, 1]]} scale={[2, 1]}>\\n    <axis axis={1} width={3} />\\n    <axis axis={2} width={3} />\\n    <grid width={2} divideX={20} divideY={10} />\\n  </cartesian>\\n</root>\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:p [:span \"You might make your axes black by passing the \"] [:code [:span \":color \\\"black\\\"\"]] [:span \" attribute:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/width :wide}\\n(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]]])\", :nextjournal/opts {:loc {:line 195, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}]]])] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5dskmbEpDr7jtRP5t2j1pNqpSAHWkm\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"As the on-screen size of elements depends on the position of the camera, we\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"can calibrate our units by setting the \"] [:code [:span \"focus\"]] [:span \" on the \"] [:code [:span \"<root>\"]] [:span \" to match the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"camera distance. Set options on \"] [:code [:span \"<root>\"]] [:span \" by passing them to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"mathbox/MathBox\"]] [:span \":\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/width :wide}\\n(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]]])\", :nextjournal/opts {:loc {:line 214, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}]]])] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5dsKNeXazewzX5KVymFbwQY5zbcn9k\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Which gives us:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"<root focus={3}>\\n  <camera proxy={true} position={[0, 0, 3]} />\\n  <cartesian range={[[-2, 2], [-1, 1]]} scale={[2, 1]}>\\n    <axis axis={1} width={3} color=\\\"black\\\" />\\n    <axis axis={2} width={3} color=\\\"black\\\" />\\n    <grid width={2} divideX={20} divideY={10} />\\n  </cartesian>\\n</root>\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [\"h3\" {:id \"add-some-data-and-draw-it\"} [:span \"Add some data and draw it\"]] [:p [:span \"Now we'll draw a moving sine wave. First we create an \"] [:code [:span \"mb/Interval\"]] [:span \". This is\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"a 1D array, sampled over the cartesian view's range. It contains an \"] [:code [:span \":expr\"]] [:span \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"an expression to generate the data points.\"]] [:p [:span \"We \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/CreatingReagentComponents.md\"} [:span \"make a new\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"component\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"that generates 64 points, each with two \"] [:code [:span \":channels\"]] [:span \", i.e. \"] [:code [:span \"X\"]] [:span \" and \"] [:code [:span \"Y\"]] [:span \" values.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"This value sets the number of items that are emitted with each call to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"emit\"]] [:span \".\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(show-sci\\n (defn Data []\\n   [mb/Interval\\n    {:expr (fn [emit x _i t]\\n             (emit x (Math/sin (+ x t))))\\n     :width 64\\n     :channels 2}]))\", :nextjournal/opts {:loc {:line 254, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do (defn Data [] [mb/Interval {:expr (fn [emit x _i t] (emit x (Math/sin (+ x t)))), :width 64, :channels 2}]))] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5dtmPVgWoDV9cmDfPdU8CNhz5hxuVP\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Here, \"] [:code [:span \"x\"]] [:span \" is the sampled X coordinate, \"] [:code [:span \"_i\"]] [:span \" is the array index (0-63), and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"t\"]] [:span \" is clock time in seconds, starting from 0. The use of \"] [:code [:span \"emit\"]] [:span \" is similar\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"to \"] [:code [:span \"return\"]] [:span \"ing a value. It is used to allow multiple values to be emitted\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"very efficiently.\"]] [:p [:span \"Once we have the data, we can draw it, by \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/CreatingReagentComponents.md\"} [:span \"creating a new\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"component\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"called \"] [:code [:span \"Curve\"]] [:span \" that adds on an \"] [:code [:span \"mb/Line\"]] [:span \". The target of the line is, by\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"default, the previous entry in the component tree.\"]] [:blockquote [:p [:span \"Note the use of \"] [:a {:href \"https://reactjs.org/docs/fragments.html\"} [:span \"React fragments\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"here; we can bundle up many components by putting them into a vector starting\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"with \"] [:code [:span \":<>\"]] [:span \".\"]]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(show-sci\\n (defn Curve []\\n   [:<>\\n    [Data]\\n    [mb/Line {:width 5\\n              :color \\\"#3090FF\\\"}]]))\", :nextjournal/opts {:loc {:line 276, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do (defn Curve [] [:<> [Data] [mb/Line {:width 5, :color \"#3090FF\"}]]))] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5dsgkYJra7r3rADaBAMaV53AasQ7Qq\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Note that we've used an HTML hex color instead of a named color. CSS syntax\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"like \"] [:code [:span \"\\\"rgb(255,128,53)\\\"\"]] [:span \" works too.\"]] [:p [:span \"Add a \"] [:code [:span \"Curve\"]] [:span \" instance to the component tree:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/width :wide}\\n(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]\\n   [Curve]]])\", :nextjournal/opts {:loc {:line 288, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}] [Curve]]])] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5dr5qA1AxZfBhUF6Vf4gXpBpcT8mCy\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"The DOM now looks like:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"<root focus={3}>\\n  <camera proxy={true} position={[0, 0, 3]} />\\n  <cartesian range={[[-2, 2], [-1, 1]]} scale={[2, 1]}>\\n    <axis axis={1} width={3} color=\\\"black\\\" />\\n    <axis axis={2} width={3} color=\\\"black\\\" />\\n    <grid width={2} divideX={20} divideY={10} />\\n    <interval expr={(emit, x, i, t) => {\\n          emit(x, Math.sin(x + t));\\n        }} width={64} channels={2} />\\n    <line width={5} color=\\\"#3090FF\\\" />\\n  </cartesian>\\n</root>\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [\"h3\" {:id \"add-more-shapes\"} [:span \"Add more shapes\"]] [:p [:span \"The nice thing about separating data from shape is that you can draw the same\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"data multiple ways. For example, add on an \"] [:code [:span \"mb/Point\"]] [:span \" component to draw\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"points as well along them length of the data interval:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/width :wide}\\n(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]\\n   [Curve]\\n   [mb/Point {:size 8 :color \\\"#3090FF\\\"}]]])\", :nextjournal/opts {:loc {:line 327, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}] [Curve] [mb/Point {:size 8, :color \"#3090FF\"}]]])] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5drBNMGghoD18V2H4JASQfMhA1Wuet\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"The different shapes available are documented in\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/mathbox.cljs/CURRENT/api/mathbox.primitives.draw\"} [:code [:span \"mathbox.primitives.draw\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"namespace\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Points, lines and surfaces are pretty obvious and do what they say on the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"tin. e.g. Fill a 2D \"] [:code [:span \"mb/Area\"]] [:span \" with data and pass it to a \"] [:code [:span \"mb/Surface\"]] [:span \" to draw\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"a solid triangle mesh.\"]] [:p [:span \"For vectors, faces and strips, the situation changes. To draw 64 vectors as\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"arrows, you need 128 points: a start and end for each. Thus the data has to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"change. We set \"] [:code [:span \"items\"]] [:span \" to 2 and emit two points per iteration. We also add on\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"a green \"] [:code [:span \"mb/Vector\"]] [:span \" to draw the data:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"(show-sci\\n (defn Vector []\\n   [:<>\\n    [mb/Interval\\n     {:expr (fn [emit x _i t]\\n              (emit x 0)\\n              (emit x (- (Math/sin (+ x t)))))\\n      :width 64\\n      :channels 2\\n      :items 2}]\\n    [mb/Vector\\n     {:end true\\n      :width 5\\n      :color \\\"#50A000\\\"}]]))\", :nextjournal/opts {:loc {:line 356, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do (defn Vector [] [:<> [mb/Interval {:expr (fn [emit x _i t] (emit x 0) (emit x (- (Math/sin (+ x t))))), :width 64, :channels 2, :items 2}] [mb/Vector {:end true, :width 5, :color \"#50A000\"}]]))] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5drwDW3WEhuyMU7RCL9RaMB9X9Yz28\"}}}, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:blockquote [:p [:span \"As an alternative to \"] [:code [:span \":expr\"]] [:span \", you can also supply an array of \"] [:code [:span \":data\"]] [:span \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"either constant or changing, flat or nested. MathBox will iterate over it\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"and emit it for you, picking up any live data. If your data does not\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"change, you can set \"] [:code [:span \":live false\"]] [:span \" to optimize.\"]]] [:p [:span \"Render the scene again after adding the new \"] [:code [:span \"Vector\"]] [:span \" component to the end:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/width :wide}\\n(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]\\n   [Curve]\\n   [mb/Point {:size 8 :color \\\"#3090FF\\\"}]\\n\\n   [Vector]]])\", :nextjournal/opts {:loc {:line 378, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}] [Curve] [mb/Point {:size 8, :color \"#3090FF\"}] [Vector]]])] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5dtzQ1bTFEZ4rfejFGSUHeSeGVctMF\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"add-some-floating-labels\"} [:span \"Add some floating labels\"]] [:p [:span \"Finally we'll label our coordinate system. First we need to establish a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \"mb/Scale\"]] [:span \", which will divide our view into nice intervals.\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"[mb/Scale {:divide 10}]\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:p [:span \"We can draw our scale as tick marks with \"] [:code [:span \"mb/Ticks\"]] [:span \":\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"[mb/Ticks {:width 5 :size 15 :color \\\"black\\\"}]\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:p [:span \"Now we need to format our numbers into rasterized text:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"[mb/Format {:digits 2 :weight \\\"bold\\\"}]\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:p [:span \"And finally draw the text as floating labels:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"[mb/Label {:color \\\"red\\\"\\n           :zIndex 1}]\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:p [:span \"Adding all of these components yields the following scene:\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/width :wide}\\n(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]\\n   [Curve]\\n   [mb/Point {:size 8 :color \\\"#3090FF\\\"}]\\n\\n   [Vector]\\n\\n   [mb/Scale {:divide 10}]\\n   [mb/Ticks {:width 5 :size 15 :color \\\"black\\\"}]\\n   [mb/Format {:digits 2 :weight \\\"bold\\\"}]\\n   [mb/Label {:color \\\"red\\\"\\n              :zIndex 1}]]])\", :nextjournal/opts {:loc {:line 427, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}] [Curve] [mb/Point {:size 8, :color \"#3090FF\"}] [Vector] [mb/Scale {:divide 10}] [mb/Ticks {:width 5, :size 15, :color \"black\"}] [mb/Format {:digits 2, :weight \"bold\"}] [mb/Label {:color \"red\", :zIndex 1}]]])] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5duGvcshi13PJfAMAdqCyCJ3fffkur\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Here we apply \"] [:code [:span \":zIndex\"]] [:span \" similar to CSS to ensure the labels overlap in 2D\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"rather than being placed in 3D. It specifies a layer index, with 0 being the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"default, and layers \"] [:code [:span \"1...n\"]] [:span \" stacking on top. Negative \"] [:code [:span \":zIndex\"]] [:span \" is not\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"allowed.\"]] [:blockquote [:p [:span \"Unlike CSS, large \"] [:code [:span \":zIndex\"]] [:span \" values are not recommended, as the higher the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \":zIndex\"]] [:span \" the less depth resolution you have.\"]]] [\"h3\" {:id \"make-it-move\"} [:span \"Make it move\"]] [:p [:span \"Finally we'll add on a little bit of animation by adding a \"] [:code [:span \"mb/Play\"]] [:span \" block.\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}} {:nextjournal/value \"^{:nextjournal.clerk/width :wide}\\n(show-sci\\n [mathbox/MathBox\\n  {:container {:style {:height \\\"400px\\\" :width \\\"100%\\\"}}\\n   :focus 3}\\n  [mb/Camera {:position [0 0 3]\\n              :proxy true}]\\n  [mb/Cartesian\\n   {:range [[-2 2] [-1 1]]\\n    :scale [2 1]}\\n\\n   [mb/Axis {:axis 1 :width 3 :color \\\"black\\\"}]\\n   [mb/Axis {:axis 2 :width 3 :color \\\"black\\\"}]\\n   [mb/Grid {:width 2 :divideX 20 :divideY 10}]\\n   [Curve]\\n   [mb/Point {:size 8 :color \\\"#3090FF\\\"}]\\n\\n   [Vector]\\n\\n   [mb/Scale {:divide 10}]\\n   [mb/Ticks {:width 5 :size 15 :color \\\"black\\\"}]\\n   [mb/Format {:digits 2 :weight \\\"bold\\\"}]\\n   [mb/Label {:color \\\"red\\\"\\n              :zIndex 1}]]\\n  [mb/Play\\n   {:target \\\"cartesian\\\"\\n    :pace 5\\n    :to 2\\n    :loop true\\n    :script\\n    [{:props {:range [[-2 2] [-1 1]]}}\\n     {:props {:range [[-4 4] [-2 2]]}}\\n     {:props {:range [[-2 2] [-1 1]]}}]}]])\", :nextjournal/opts {:loc {:line 464, :column 1}}, :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___30518__auto__] (clojure.core/let [result__30519__auto__ (do [mathbox/MathBox {:container {:style {:height \"400px\", :width \"100%\"}}, :focus 3} [mb/Camera {:position [0 0 3], :proxy true}] [mb/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mb/Axis {:axis 1, :width 3, :color \"black\"}] [mb/Axis {:axis 2, :width 3, :color \"black\"}] [mb/Grid {:width 2, :divideX 20, :divideY 10}] [Curve] [mb/Point {:size 8, :color \"#3090FF\"}] [Vector] [mb/Scale {:divide 10}] [mb/Ticks {:width 5, :size 15, :color \"black\"}] [mb/Format {:digits 2, :weight \"bold\"}] [mb/Label {:color \"red\", :zIndex 1}]] [mb/Play {:target \"cartesian\", :pace 5, :to 2, :loop true, :script [{:props {:range [[-2 2] [-1 1]]}} {:props {:range [[-4 4] [-2 2]]}} {:props {:range [[-2 2] [-1 1]]}}]}]])] (v/html (if (clojure.core/vector? result__30519__auto__) result__30519__auto__ [nextjournal.clerk.render/inspect result__30519__auto__])))), :hash \"5dr3bRCjbrQtypMDPpvAwnwfs23ShB\"}}}, :nextjournal/width :wide, :nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5drtBjvRGKwhUFrDTtWvTAduWDETV1\"}} {:nextjournal/value [:div.viewer-markdown [:p [:span \"Here \"] [:code [:span \":script\"]] [:span \" defines the keyframes we'll be animating through. We specify\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:code [:span \":props\"]] [:span \" will change, namely the \"] [:code [:span \":range\"]] [:span \". We pass in the keyframes as an\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"array, which will assign them to evenly spaced keyframes \"] [:code [:span \"(0, 1, 2)\"]] [:span \".\"]] [:p [:span \"We set the \"] [:code [:span \":pace\"]] [:span \" of the animation to 5 seconds per step, tell it to play\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"till keyframe time \"] [:code [:span \"2\"]] [:span \" and to \"] [:code [:span \":loop\"]] [:span \" afterwards.\"]] [\"h2\" {:id \"guides\"} [:span \"Guides\"]] [:p [:span \"The following sequence of guides is a work in progress. Each section is\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"either filled out, or holds notes on all of the stuff that I'd like to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"document.\"]] [\"h3\" {:id \"configuring-mathbox\"} [:span \"Configuring MathBox\"]] [:p [:span \"TODO Talk about how to configure the MathBox component etc\"]] [:p [:span \"What is threestrap, how does it all relate?\"]] [\"h4\" {:id \"threestrap-configuration\"} [:span \"Threestrap configuration\"]] [\"h3\" {:id \"supported-primitives\"} [:span \"Supported Primitives\"]] [:p [:span \"Link to the examples directory, and to the cljdoc.\"]] [\"h3\" {:id \"reactivity\"} [:span \"Reactivity\"]] [\"h3\" {:id \"examples-directory\"} [:span \"Examples Directory\"]] [\"h3\" {:id \"which-components-can-nest?\"} [:span \"Which components can nest?\"]] [:ul [:li [:<> [:span \"\\\"view\\\",\"]]] [:li [:<> [:span \"\\\"cartesian\\\",\"]]] [:li [:<> [:span \"\\\"cartesian4\\\",\"]]] [:li [:<> [:span \"\\\"polar\\\",\"]]] [:li [:<> [:span \"\\\"spherical\\\",\"]]] [:li [:<> [:span \"\\\"stereographic\\\",\"]]] [:li [:<> [:span \"\\\"stereographic4\\\",\"]]] [:li [:<> [:span \"\\\"transform\\\",\"]]] [:li [:<> [:span \"\\\"transform4\\\",\"]]] [:li [:<> [:span \"\\\"vertex\\\",\"]]] [:li [:<> [:span \"\\\"fragment\\\",\"]]] [:li [:<> [:span \"\\\"layer\\\",\"]]] [:li [:<> [:span \"\\\"mask\\\",\"]]] [:li [:<> [:span \"\\\"group\\\",\"]]] [:li [:<> [:span \"\\\"inherit\\\",\"]]] [:li [:<> [:span \"\\\"root\\\",\"]]] [:li [:<> [:span \"\\\"unit\\\",\"]]] [:li [:<> [:span \"\\\"rtt\\\",\"]]] [:li [:<> [:span \"\\\"clock\\\",\"]]] [:li [:<> [:span \"\\\"now\\\",\"]]] [:li [:<> [:span \"\\\"move\\\",\"]]] [:li [:<> [:span \"\\\"present\\\",\"]]] [:li [:<> [:span \"\\\"reveal\\\",\"]]] [:li [:<> [:span \"\\\"slide\\\",\"]]]] [\"h3\" {:id \"options-vs-binds\"} [:span \"Options vs Binds\"]] [\"h3\" {:id \"clumping-components-with-fragments\"} [:span \"Clumping Components with Fragments\"]] [\"h3\" {:id \"printing-the-dom\"} [:span \"Printing the DOM\"]] [:p [:span \"This is hard to do now because we don't have an obvious hook spot.\"]] [\"h3\" {:id \"control-types\"} [:span \"Control Types\"]] [:p [:span \"Talk about orbitcontrols etc...\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.viewer-code [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"[\\\"three/examples/jsm/controls/OrbitControls.js\\\" :as OrbitControls]\\n\", :nextjournal/viewer {:name :code, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5duGVW4Xoi1QoW73J5wMRghqm9uVoW\"}}]], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [\"h2\" {:id \"glossary\"} [:span \"Glossary\"]] [\"h3\" {:id \"dom\"} [:span \"DOM\"]] [:ul [:li [:<> [:span \"DOM - Document Object Model. In general, refers to the HTML on the page. In MathBox, refers to the virtual DOM of nodes and their hierarchical structure.\"]]] [:li [:<> [:span \"Node - An instance of a primitive, inserted into the MathBox DOM.\"]]] [:li [:<> [:span \"Primitive - One of the basic building blocks of MathBox.\"]]] [:li [:<> [:span \"Prop or Property - An individual value set on a node. Collectively \"] [:em [:span \"props\"]] [:span \".\"]]] [:li [:<> [:span \"Selection - A subset of the DOM. Can be the entire DOM or all nodes matching a selector. Selections typically match a CSS-like selector, for example the name of a primitive (\"] [:code [:span \"\\\"camera\\\"\"]] [:span \"), an id (\"] [:code [:span \"\\\"#colors\\\"\"]] [:span \"), or a class (\"] [:code [:span \"\\\".points\\\"\"]] [:span \").\"]]]] [\"h3\" {:id \"graphics\"} [:span \"Graphics\"]] [:ul [:li [:<> [:span \"RTT - Render To Texture. Rather than drawing directly to the screen, renders to an image that can be processed further.\"]]] [:li [:<> [:span \"Shader - A program written in GLSL that runs on the GPU. GLSL syntax is similar to C++.\"]]] [:li [:<> [:a {:href \"https://github.com/unconed/shadergraph\"} [:span \"ShaderGraph\"]] [:span \" - A component/dependency of MathBox that dynamically compiles small GLSL functions (snippets) into a single shader.\"]]] [:li [:<> [:a {:href \"http://threejs.org/\"} [:span \"Three.js\"]] [:span \" - A popular library for WebGL. Used by MathBox for cameras and controls.\"]]] [:li [:<> [:a {:href \"https://github.com/unconed/threestrap\"} [:span \"Threestrap\"]] [:span \" - A bootstrapping tool to set options for Three.js.\"]]] [:li [:<> [:span \"WebGL - JavaScript API for rendering 3D scenes, used by MathBox.\"]]]] [\"h3\" {:id \"data\"} [:span \"Data\"]] [:ul [:li [:<> [:code [:span \"expr\"]] [:span \" - A prop on data primitives that expects a function, whose arguments are:\"]]] [:li [:<> [:code [:span \"emit\"]] [:span \" - Another function. When called, its arguments become data.\"]]] [:li [:<> [:code [:span \"x, y, z\"]] [:span \" - Up to three numbers indicating the location of the current point. Interval (1D), Area (2D), and Volume (3D) will evenly sample the current view for these coordinates. If you don't need them, use Array, Matrix, or Voxel, which omit these arguments.\"]]] [:li [:<> [:code [:span \"i, j, k\"]] [:span \" - One to three indices of the current point.\"]]] [:li [:<> [:code [:span \"t\"]] [:span \" - Time elapsed since program start, in seconds.\"]]] [:li [:<> [:code [:span \"d\"]] [:span \" - Time delta since last frame, in seconds.\"]]] [:li [:<> [:span \"Width - The size of the data in the \"] [:em [:span \"x\"]] [:span \" direction, i.e. the number of rows.\"]]] [:li [:<> [:span \"Height - The size of the data in the \"] [:em [:span \"y\"]] [:span \" direction, i.e. the number of columns.\"]]] [:li [:<> [:span \"Depth - The size of the data in the \"] [:em [:span \"z\"]] [:span \" direction, i.e. the number of stacks.\"]]] [:li [:<> [:span \"Items - The size of the data in the \"] [:em [:span \"w\"]] [:span \" direction, i.e. the number of data points per spatial location. The number of times \"] [:code [:span \"emit\"]] [:span \" is called in the \"] [:code [:span \"expr\"]] [:span \" function.\"]]] [:li [:<> [:span \"Channels - How many numbers are associated with a data point. The number of arguments passed to \"] [:code [:span \"emit\"]] [:span \". This is not an array dimension; it is how many numbers make up one array element.\"]]] [:li [:<> [:span \"History - The process of storing previous 1D or 2D data in an unused dimension.\"]]] [:li [:<> [:span \"Swizzling - The process of isolating, reordering, and/or duplicating elements of a vector, by listing indices. For example, the swizzle \"] [:code [:span \"\\\"yxz\\\"\"]] [:span \" switches x and y. The \"] [:code [:span \"swizzle\"]] [:span \" primitive operates on array elements; the \"] [:code [:span \"transpose\"]] [:span \" primitive operates on the dimensions of the array itself.\"]]]] [\"h2\" {:id \"who-is-using-mathbox-/-mathbox.cljs?\"} [:span \"Who is using MathBox / MathBox.cljs?\"]] [:p [:span \"The following sites are using MathBox or MathBox-react:\"]] [:ul [:li [:<> [:a {:href \"https://www.math3d.org/\"} [:span \"Math3D online graphing calculator\"]]]] [:li [:<> [:a {:href \"https://kineticgraphs.org/\"} [:span \"KineticGraphs JS Engine\"]] [:span \" (\"] [:a {:href \"https://github.com/cmakler/kgjs\"} [:span \"code\"]] [:span \")\"]]] [:li [:<> [:a {:href \"https://textbooks.math.gatech.edu/ila/\"} [:span \"Textbook: \\\"Interactive Linear Algebra\\\"\"]] [:span \" (\"] [:a {:href \"https://github.com/QBobWatson/ila\"} [:span \"code\"]] [:span \")\"]]] [:li [:<> [:span \"Many visualizations at \"] [:a {:href \"https://sam.zhang.fyi/#projects\"} [:span \"Sam Zhang's homepage\"]]]] [:li [:<> [:span \"Jesse Bettencourt's \"] [:a {:href \"http://jessebett.com/TorusKnotFibration/\"} [:span \"Torus Knot Fibration\"]] [:span \" Master's project (\"] [:a {:href \"https://github.com/jessebett/TorusKnotFibration\"} [:span \"code\"]] [:span \")\"]]] [:li [:<> [:a {:href \"https://rockey-math.github.io/mathbox/graph3d-curve\"} [:span \"Interactive knot visualizations\"]]]]] [:p [:span \"And the many demos listed on \"] [:a {:href \"https://groups.google.com/g/mathbox/c/Uvyb5fHaLq4\"} [:span \"this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"thread\"]] [:span \" of the \"] [:a {:href \"https://groups.google.com/forum/#!forum/mathbox\"} [:span \"MathBox\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"Google group\"]] [:span \".\"]] [\"h2\" {:id \"thanks-and-support\"} [:span \"Thanks and Support\"]] [:p [:span \"To support this work and my other open source projects, consider sponsoring\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"me via my \"] [:a {:href \"https://github.com/sponsors/sritchie\"} [:span \"GitHub Sponsors page\"]] [:span \". Thank\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"you to my current sponsors!\"]] [:p [:span \"I'm grateful to \"] [:a {:href \"https://www.clojuriststogether.org/\"} [:span \"Clojurists Together\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"for financial support during this library's creation. Please\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"consider \"] [:a {:href \"https://www.clojuriststogether.org/developers/\"} [:span \"becoming a member\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"to support this work and projects like it.\"]] [:p [:span \"For more information on me and my work, visit \"] [:a {:href \"https://samritchie.io\"} [:span \"https://samritchie.io\"]] [:span \".\"]] [\"h2\" {:id \"license\"} [:span \"License\"]] [:p [:span \"Copyright © 2022 Sam Ritchie.\"]] [:p [:span \"Distributed under the \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/blob/main/LICENSE\"} [:span \"MIT\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"License\"]] [:span \".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:span \" \"], :nextjournal/viewer {:name :html, :render-fn #viewer-fn identity, :hash \"5dqwbRQVFnHkdooT8QV8nfPHBGVWtj\"}}] [:span \"See \"] [:a {:href \"https://github.com/mentat-collective/mathbox.cljs/blob/main/LICENSE\"} [:span \"LICENSE\"]] [:span \".\"]]], :nextjournal/viewer {:name :html-, :render-fn #viewer-fn identity, :hash \"5dsKyVZX2dPvsyoeg6dNrfeuqAh5UK\"}}], :css-class nil}, :nextjournal/viewer {:name :clerk/notebook, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5dt1qwFEn2BQwdEM84VqwY4LR6p4YV\"}}}, :index \"dev/mathbox/notebook.clj\", :browse? false, :git/url \"https://github.com/mentat-collective/mathbox.cljs\", :paths [\"dev/mathbox/examples/math/pq_knot.cljc\" \"dev/mathbox/examples/index.md\" \"dev/mathbox/examples/math/helitorus.cljc\" \"dev/mathbox/examples/test/curvedots.clj\" \"dev/mathbox/examples/test/closed_line.clj\" \"dev/mathbox/examples/test/context.clj\" \"dev/mathbox/examples/math/color_cube.clj\" \"dev/mathbox/examples/math/hopf.clj\" \"dev/mathbox/examples/test/compose.clj\" \"dev/mathbox/examples/test/camera.clj\" \"dev/mathbox/examples/test/face.cljc\" \"dev/mathbox/examples/test/closed_surface.clj\" \"dev/mathbox/examples/dataviz/scatter.clj\" \"dev/mathbox/examples/math/field_lines.clj\" \"dev/mathbox/examples/test/axis.clj\" \"dev/mathbox/notebook.clj\" \"dev/mathbox/examples/test/curve.clj\" \"dev/mathbox/examples/math/exponential.clj\" \"dev/mathbox/examples/test/cartesian4.clj\"], :resource->url {\"/js/viewer.js\" \"/js/_data/8VwZZs9zkTJXFdrsW8kUJRxvfaSRbecpwBG7EoggjqnCE1VkApSquTqvXeLzVaBW4z18FPeFFYiko9jiCsmJoN6UcD.js\"}, :current-path \"dev/mathbox/notebook.clj\", :bundle? false, :git/sha \"c278809778066077583ee91772a76b99db8c7b1e\", :path->url {\"dev/mathbox/examples/math/pq_knot.cljc\" \"dev/mathbox/examples/math/pq_knot.html\", \"dev/mathbox/examples/index.md\" \"dev/mathbox/examples/\", \"dev/mathbox/examples/math/helitorus.cljc\" \"dev/mathbox/examples/math/helitorus.html\", \"dev/mathbox/examples/test/curvedots.clj\" \"dev/mathbox/examples/test/curvedots.html\", \"dev/mathbox/examples/test/closed_line.clj\" \"dev/mathbox/examples/test/closed_line.html\", \"dev/mathbox/examples/test/context.clj\" \"dev/mathbox/examples/test/context.html\", \"dev/mathbox/examples/math/color_cube.clj\" \"dev/mathbox/examples/math/color_cube.html\", \"dev/mathbox/examples/math/hopf.clj\" \"dev/mathbox/examples/math/hopf.html\", \"dev/mathbox/examples/test/compose.clj\" \"dev/mathbox/examples/test/compose.html\", \"dev/mathbox/examples/test/camera.clj\" \"dev/mathbox/examples/test/camera.html\", \"dev/mathbox/examples/test/face.cljc\" \"dev/mathbox/examples/test/face.html\", \"dev/mathbox/examples/test/closed_surface.clj\" \"dev/mathbox/examples/test/closed_surface.html\", \"dev/mathbox/examples/dataviz/scatter.clj\" \"dev/mathbox/examples/dataviz/scatter.html\", \"dev/mathbox/examples/math/field_lines.clj\" \"dev/mathbox/examples/math/field_lines.html\", \"dev/mathbox/examples/test/axis.clj\" \"dev/mathbox/examples/test/axis.html\", \"dev/mathbox/notebook.clj\" \"\", \"dev/mathbox/examples/test/curve.clj\" \"dev/mathbox/examples/test/curve.html\", \"dev/mathbox/examples/math/exponential.clj\" \"dev/mathbox/examples/math/exponential.html\", \"dev/mathbox/examples/test/cartesian4.clj\" \"dev/mathbox/examples/test/cartesian4.html\"}, :expanded-paths [\"dev/mathbox/examples/dataviz/scatter.clj\" \"dev/mathbox/examples/test/closed_surface.clj\" \"dev/mathbox/examples/test/context.clj\" \"dev/mathbox/examples/test/face.cljc\" \"dev/mathbox/examples/test/camera.clj\" \"dev/mathbox/examples/test/curve.clj\" \"dev/mathbox/examples/test/closed_line.clj\" \"dev/mathbox/examples/test/axis.clj\" \"dev/mathbox/examples/test/curvedots.clj\" \"dev/mathbox/examples/test/compose.clj\" \"dev/mathbox/examples/test/cartesian4.clj\" \"dev/mathbox/examples/math/hopf.clj\" \"dev/mathbox/examples/math/exponential.clj\" \"dev/mathbox/examples/math/helitorus.cljc\" \"dev/mathbox/examples/math/pq_knot.cljc\" \"dev/mathbox/examples/math/color_cube.clj\" \"dev/mathbox/examples/math/field_lines.clj\" \"dev/mathbox/examples/index.md\" \"dev/mathbox/notebook.clj\"], :report-fn #object[nextjournal.clerk.builder$stdout_reporter 0x50a4e768 \"nextjournal.clerk.builder$stdout_reporter@50a4e768\"]}")
app.init(opts)
</script></body></html>
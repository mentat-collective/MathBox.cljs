{"version":3,"sources":["mathbox/examples/math/pq_knot.cljc"],"mappings":"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","names":["js/mathbox","js/mathbox.examples","js/mathbox.examples.math","js/mathbox.examples.math.pq-knot","js/mathbox.examples.math.pq-knot.!state","mathbox.examples.math.pq-knot/!state","cljs.core.atom","f__48393__auto__","obj48416","js/window","inner-obj__40440__auto__","child48417","new-child__40389__auto__","obj48423","o__40434__auto__","o__40428__auto__","obj48426","x__48394__auto__","cljs.core/not","reagent.core.atom","cljs.core/deref","G__48427","cljs.core/reset!","mathbox.examples.math.pq-knot/pq-knot","emit","x69000","x69001","x69002","x69003","x69004","x69005","x69006","G000000000000025d","G0000000000000260","Math/sin","G0000000000000265","Math/cos","G0000000000000270","G000000000000028a","G0000000000000295","G00000000000002a3","G00000000000002aa","G00000000000002b5","G00000000000002c9","G00000000000002d0","G00000000000002d2","G00000000000002d5","G00000000000002da","G00000000000002e6","G00000000000002f2","G00000000000002fa","G0000000000000300","G0000000000000307","G000000000000030b","G0000000000000310","G0000000000000313","G0000000000000318","G000000000000031c","G000000000000031f","G0000000000000324","G0000000000000329","G000000000000033d","G0000000000000340","G0000000000000343","G0000000000000354","G0000000000000359","G000000000000035d","G000000000000035f","G0000000000000364","G000000000000037f","G0000000000000387","G000000000000038a","G0000000000000399","Math/sqrt","G000000000000039d","G00000000000003a2","G00000000000003af","G00000000000003b6","G00000000000003ba","G00000000000003be","G00000000000003c1","G00000000000003c3","G00000000000003c5","G00000000000003cf","G00000000000003d2","G00000000000003d3","G00000000000003d4","G00000000000003d7","G00000000000003d9","G00000000000003db","G00000000000003de","G00000000000003df","G__48411","G__48412","G__48413","obj48432","child48433","obj48438","obj48441","G__48444","mathbox.examples.math.pq-knot/PQKnot","!state","mathbox/Mathbox","js/module$node_modules$three$examples$jsm$controls$TrackballControls.TrackballControls","mathbox.primitives/Cartesian","mathbox.primitives/Area","Math/PI","theta","phi","_i","_j","t","map__48431","cljs.core/--destructure-map","cljs.core.get","r1","r2","r3","p","q","mathbox.primitives/Surface","mathbox.primitives/Resample","mathbox.primitives/Line"],"sourcesContent":["^#:nextjournal.clerk\n{:toc true\n :no-cache true\n :visibility :hide-ns}\n(ns mathbox.examples.math.pq-knot\n  (:require\n   #?@(:cljs [[mathbox]\n              [mathbox.primitives :as mb]\n              [\"three\" :as three]\n              [\"three/examples/jsm/controls/TrackballControls.js\"\n               :as TrackballControls]])\n   [nextjournal.clerk :as-alias clerk]\n   ;; TODO this only for now, since `show-sci` does not behave well on the cljs\n   ;; side.\n   [mentat.clerk-utils.show :refer [show-sci show-cljs]]))\n\n;; ## (p, q) Torus Knots\n\n;; https://en.wikipedia.org/wiki/Torus_knot\n;;\n;; https://sketchesoftopology.wordpress.com/2011/03/28/pqisqp/\n;; https://core.ac.uk/download/pdf/82119056.pdf\n;;\n;; WOAH really cool!!! http://www.jessebett.com/TorusKnotFibration/torusknot.html this has a particle moving around on the surface too.\n;;\n;; Wow, can I recreate this???? http://www.jessebett.com/TorusKnotFibration/index.html\n;;\n;; Hell yeah, he used mathbox\n;; https://github.com/jessebett/TorusKnotFibration/blob/gh-pages/torusknot.html..\n;; we can totally port this!!!\n\n;; more 3d curves, look at this https://rockey-math.github.io/mathbox/graph3d-curve\n\n^{::clerk/sync true}\n(defonce !state\n  (atom\n   {:p 7\n    :q 8\n    :r1 1.791\n    :r2 0.95\n    :r3 0.1}))\n\n(show-sci\n [:<>\n  [leva/PanelOptions {:drag true}]\n  [leva/Panel\n   {:state mathbox.examples.math.pq-knot/!state\n    :options\n    {:p {:min 0 :max 32 :step 1}\n     :q {:min 0 :max 32 :step 1}\n     :r1 {:min 0 :max 3 :step 0.001}\n     :r2 {:min 0.0 :max 2.5 :step 0.01}\n     :r3 {:min 0.0 :max 0.2 :step 0.01}}}]])\n\n^{::clerk/visibility {:code :fold}}\n(show-cljs\n (defn pq-knot\n   [emit x69000 x69001 x69002 x69003 x69004 x69005 x69006]\n   (let\n       [G000000000000025d (* x69003 x69005)\n        G0000000000000260 (Math/sin x69006)\n        G0000000000000265 (Math/cos x69006)\n        G0000000000000270 (+ x69001 x69002)\n        G000000000000028a (* x69004 x69005)\n        G0000000000000295 (Math/sin G000000000000028a)\n        G00000000000002a3\n        (Math/cos G000000000000025d)\n        G00000000000002aa\n        (Math/cos G000000000000028a)\n        G00000000000002b5\n        (Math/sin G000000000000025d)\n        G00000000000002c9\n        (* G0000000000000270 G00000000000002a3)\n        G00000000000002d0\n        (*\n         G00000000000002aa\n         G0000000000000270\n         -1.0\n         G00000000000002a3\n         x69003\n         x69003)\n        G00000000000002d2\n        (*\n         G0000000000000270\n         G00000000000002a3\n         x69003\n         G0000000000000270\n         G00000000000002a3\n         x69003)\n        G00000000000002d5\n        (- G00000000000002b5)\n        G00000000000002da\n        (- G0000000000000295)\n        G00000000000002e6\n        (*\n         G0000000000000295\n         G0000000000000270\n         -1.0\n         G00000000000002a3\n         x69003\n         x69003)\n        G00000000000002f2\n        (*\n         G0000000000000270\n         G00000000000002a3\n         x69003\n         G0000000000000270\n         G00000000000002d5\n         x69003\n         x69003)\n        G00000000000002fa\n        (*\n         G00000000000002da\n         x69004\n         G0000000000000270\n         G00000000000002d5\n         x69003)\n        G0000000000000300\n        (*\n         G0000000000000270\n         G00000000000002d5\n         x69003\n         G00000000000002aa\n         x69004)\n        G0000000000000307\n        (*\n         G00000000000002aa\n         x69004\n         G0000000000000270\n         G00000000000002d5\n         x69003)\n        G000000000000030b\n        (*\n         G00000000000002aa\n         G0000000000000270\n         G00000000000002d5\n         x69003)\n        G0000000000000310\n        (+ x69000 G00000000000002c9)\n        G0000000000000313\n        (*\n         G0000000000000270\n         G00000000000002d5\n         x69003\n         G00000000000002da\n         x69004)\n        G0000000000000318\n        (*\n         G0000000000000295\n         G0000000000000270\n         G00000000000002d5\n         x69003)\n        G000000000000031c\n        (* G0000000000000310 G00000000000002da x69004)\n        G000000000000031f\n        (* G0000000000000310 -1.0 G00000000000002aa x69004 x69004)\n        G0000000000000324\n        (* G0000000000000310 G00000000000002da x69004 x69004)\n        G0000000000000329\n        (* G0000000000000310 G00000000000002aa x69004)\n        G000000000000033d\n        (+\n         G00000000000002e6\n         G0000000000000307\n         G0000000000000324\n         G0000000000000300)\n        G0000000000000340\n        (+\n         G00000000000002d0\n         G00000000000002fa\n         G000000000000031f\n         G0000000000000313)\n        G0000000000000343\n        (+ G000000000000030b G000000000000031c)\n        G0000000000000354\n        (+ G0000000000000318 G0000000000000329)\n        G0000000000000359\n        (* G0000000000000343 G0000000000000340)\n        G000000000000035d\n        (* G0000000000000354 G000000000000033d)\n        G000000000000035f\n        (* G0000000000000343 G0000000000000343)\n        G0000000000000364\n        (* G0000000000000354 G0000000000000354)\n        G000000000000037f\n        (+ G000000000000035f G0000000000000364 G00000000000002d2)\n        G0000000000000387\n        (+\n         G0000000000000359\n         G0000000000000359\n         G000000000000035d\n         G000000000000035d\n         G00000000000002f2\n         G00000000000002f2)\n        G000000000000038a\n        (/ -1.0 G000000000000037f)\n        G0000000000000399\n        (Math/sqrt G000000000000037f)\n        G000000000000039d\n        (* G0000000000000399 2.0)\n        G00000000000003a2\n        (/ 1.0 G0000000000000399)\n        G00000000000003af\n        (* G00000000000003a2 G0000000000000340)\n        G00000000000003b6\n        (* G00000000000003a2 G000000000000033d)\n        G00000000000003ba\n        (/ 1.0 G000000000000039d)\n        G00000000000003be\n        (*\n         G00000000000003a2\n         G0000000000000270\n         G00000000000002d5\n         x69003\n         x69003)\n        G00000000000003c1\n        (*\n         G0000000000000343\n         G000000000000038a\n         G00000000000003ba\n         G0000000000000387)\n        G00000000000003c3\n        (*\n         G0000000000000270\n         G00000000000002a3\n         x69003\n         G000000000000038a\n         G00000000000003ba\n         G0000000000000387)\n        G00000000000003c5\n        (*\n         G0000000000000354\n         G000000000000038a\n         G00000000000003ba\n         G0000000000000387)\n        G00000000000003cf\n        (+ G00000000000003b6 G00000000000003c5)\n        G00000000000003d2\n        (+ G00000000000003af G00000000000003c1)\n        G00000000000003d3\n        (+ G00000000000003be G00000000000003c3)\n        G00000000000003d4\n        (* G00000000000003d2 G00000000000003d2)\n        G00000000000003d7\n        (* G00000000000003cf G00000000000003cf)\n        G00000000000003d9\n        (* G00000000000003d3 G00000000000003d3)\n        G00000000000003db\n        (+ G00000000000003d4 G00000000000003d7 G00000000000003d9)\n        G00000000000003de\n        (Math/sqrt G00000000000003db)\n        G00000000000003df\n        (/ 1.0 G00000000000003de)]\n     (emit\n      (+\n       (* G0000000000000310 G00000000000002aa)\n       (*\n        (-\n         (*\n          G0000000000000354\n          G00000000000003a2\n          G00000000000003d3\n          G00000000000003df)\n         (*\n          G0000000000000270\n          G00000000000002a3\n          x69003\n          G00000000000003a2\n          G00000000000003cf\n          G00000000000003df))\n        x69002\n        G0000000000000265)\n       (*\n        G00000000000003d2\n        G00000000000003df\n        x69002\n        G0000000000000260))\n      (+\n       (* G0000000000000310 G0000000000000295)\n       (*\n        (-\n         (*\n          G0000000000000270\n          G00000000000002a3\n          x69003\n          G00000000000003a2\n          G00000000000003d2\n          G00000000000003df)\n         (*\n          G0000000000000343\n          G00000000000003a2\n          G00000000000003d3\n          G00000000000003df))\n        x69002\n        G0000000000000265)\n       (*\n        G00000000000003cf\n        G00000000000003df\n        x69002\n        G0000000000000260))\n      (+\n       (* G0000000000000270 G00000000000002b5)\n       (*\n        (-\n         (*\n          G0000000000000343\n          G00000000000003a2\n          G00000000000003cf\n          G00000000000003df)\n         (*\n          G0000000000000354\n          G00000000000003a2\n          G00000000000003d2\n          G00000000000003df))\n        x69002\n        G0000000000000265)\n       (*\n        G00000000000003d3\n        G00000000000003df\n        x69002\n        G0000000000000260))))))\n\n(show-cljs\n (defn ^:export PQKnot [!state]\n   [mathbox/Mathbox\n    {:style {:height \"500px\" :width \"100%\"}\n     :options\n     {:plugins [\"core\", \"controls\", \"cursor\", \"mathbox\" \"stats\"]\n      :controls {:klass TrackballControls/TrackballControls}}\n     :init {:background-color 0xffffff\n            :camera-proxy true\n            :camera-position [1 1 3]\n            :scale 500 :focus 3}}\n    [mb/Cartesian {:range [[-1 1] [-1 1] [-1 1]]\n                   :scale [1 1 1]\n                   :quaternion [0.7 0 0 0.7]}\n     [:div {:state @!state}\n      [mb/Area\n       {:rangeX [(- Math/PI) Math/PI]\n        :rangeY [(- Math/PI) Math/PI]\n        :width 512\n        :height 16\n        :channels 3\n        :live true\n        :expr (fn [emit theta phi _i _j t]\n                (let [{:keys [r1 r2 r3 p q]} (.-state !state)\n                      r3 (+ r3 (* r3 0.5 (* (Math/sin (* 2 theta t))\n                                            (Math/sin (* 2 theta t)))))]\n                  (pq-knot emit r1 r2 r3 q p theta phi)))}]]\n\n     [mb/Surface\n      {:shaded true\n       :color 0xcc0040\n       :lineY true\n       :width 1}]\n\n     [mb/Resample {:height 5}]\n     [mb/Line\n      {:color 0xffffff\n       :width 2}]]]))\n\n;; ## Animation\n;;\n;; Note that you can't drop back INTO sci land unless you do some extra work\n;; that we can document.\n\n;; Then we can jump back to SCI, to get access to our shared state. Define the\n;; full component that you need on the cljs side!\n\n^{::clerk/width :wide\n  ::clerk/visibility {:code :fold}}\n(show-sci\n [js/mathbox.examples.math.pq_knot.PQKnot\n  mathbox.examples.math.pq-knot/!state])\n"]}
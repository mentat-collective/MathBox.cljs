import "./cljs_env.js";
shadow$provide.module$node_modules$zustand$index=function(global,require,module,exports){function createStore(createState){var listeners=new Set,setState=function(partial,replace){partial="function"===typeof partial?partial(state):partial;if(partial!==state){var _previousState=state;state=replace?partial:Object.assign({},state,partial);listeners.forEach(function(listener){return listener(state,_previousState)})}},getState=function(){return state},subscribeWithSelector=function(listener,selector,equalityFn){function listenerToAdd(){var nextSlice=
selector(state);if(!equalityFn(currentSlice,nextSlice)){var _previousSlice=currentSlice;listener(currentSlice=nextSlice,_previousSlice)}}void 0===selector&&(selector=getState);void 0===equalityFn&&(equalityFn=Object.is);console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var currentSlice=selector(state);listeners.add(listenerToAdd);return function(){return listeners.delete(listenerToAdd)}},api={setState,getState,subscribe:function(listener,selector,equalityFn){if(selector||
equalityFn)return subscribeWithSelector(listener,selector,equalityFn);listeners.add(listener);return function(){return listeners.delete(listener)}},destroy:function(){return listeners.clear()}};var state=createState(setState,getState,api);return api}Object.defineProperty(exports,"__esModule",{value:!0});var react=require("module$node_modules$react$index"),useIsomorphicLayoutEffect="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?react.useEffect:
react.useLayoutEffect;exports["default"]=function(createState){var api="function"===typeof createState?createStore(createState):createState,useStore=function(selector,equalityFn){void 0===selector&&(selector=api.getState);void 0===equalityFn&&(equalityFn=Object.is);var forceUpdate=react.useReducer(function(c){return c+1},0)[1],state=api.getState(),stateRef=react.useRef(state),selectorRef=react.useRef(selector),equalityFnRef=react.useRef(equalityFn),erroredRef=react.useRef(!1),currentSliceRef=react.useRef();
void 0===currentSliceRef.current&&(currentSliceRef.current=selector(state));var hasNewStateSlice=!1;if(stateRef.current!==state||selectorRef.current!==selector||equalityFnRef.current!==equalityFn||erroredRef.current){var newStateSlice=selector(state);hasNewStateSlice=!equalityFn(currentSliceRef.current,newStateSlice)}useIsomorphicLayoutEffect(function(){hasNewStateSlice&&(currentSliceRef.current=newStateSlice);stateRef.current=state;selectorRef.current=selector;equalityFnRef.current=equalityFn;erroredRef.current=
!1});var stateBeforeSubscriptionRef=react.useRef(state);useIsomorphicLayoutEffect(function(){var listener=function(){try{var nextState=api.getState(),nextStateSlice=selectorRef.current(nextState);equalityFnRef.current(currentSliceRef.current,nextStateSlice)||(stateRef.current=nextState,currentSliceRef.current=nextStateSlice,forceUpdate())}catch(error){erroredRef.current=!0,forceUpdate()}},unsubscribe=api.subscribe(listener);api.getState()!==stateBeforeSubscriptionRef.current&&listener();return unsubscribe},
[]);var sliceToReturn=hasNewStateSlice?newStateSlice:currentSliceRef.current;react.useDebugValue(sliceToReturn);return sliceToReturn};Object.assign(useStore,api);useStore[Symbol.iterator]=function(){console.warn("[useStore, api] \x3d create() is deprecated and will be removed in v4");var items=[useStore,api];return{next:function(){var done=0>=items.length;return{value:items.shift(),done}}}};return useStore}}
//# sourceMappingURL=module$node_modules$zustand$index.js.map

{
"version":3,
"file":"module$node_modules$three$src$renderers$webgl$WebGLAttributes.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/three/src/renderers/webgl/WebGLAttributes.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three$src$renderers$webgl$WebGLAttributes\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WebGLAttributes = WebGLAttributes;\n\nfunction WebGLAttributes(gl, capabilities) {\n  const isWebGL2 = capabilities.isWebGL2;\n  const buffers = new WeakMap();\n\n  function createBuffer(attribute, bufferType) {\n    const array = attribute.array;\n    const usage = attribute.usage;\n    const buffer = gl.createBuffer();\n    gl.bindBuffer(bufferType, buffer);\n    gl.bufferData(bufferType, array, usage);\n    attribute.onUploadCallback();\n    let type;\n\n    if (array instanceof Float32Array) {\n      type = gl.FLOAT;\n    } else if (array instanceof Uint16Array) {\n      if (attribute.isFloat16BufferAttribute) {\n        if (isWebGL2) {\n          type = gl.HALF_FLOAT;\n        } else {\n          throw new Error('THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.');\n        }\n      } else {\n        type = gl.UNSIGNED_SHORT;\n      }\n    } else if (array instanceof Int16Array) {\n      type = gl.SHORT;\n    } else if (array instanceof Uint32Array) {\n      type = gl.UNSIGNED_INT;\n    } else if (array instanceof Int32Array) {\n      type = gl.INT;\n    } else if (array instanceof Int8Array) {\n      type = gl.BYTE;\n    } else if (array instanceof Uint8Array) {\n      type = gl.UNSIGNED_BYTE;\n    } else if (array instanceof Uint8ClampedArray) {\n      type = gl.UNSIGNED_BYTE;\n    } else {\n      throw new Error('THREE.WebGLAttributes: Unsupported buffer data format: ' + array);\n    }\n\n    return {\n      buffer: buffer,\n      type: type,\n      bytesPerElement: array.BYTES_PER_ELEMENT,\n      version: attribute.version\n    };\n  }\n\n  function updateBuffer(buffer, attribute, bufferType) {\n    const array = attribute.array;\n    const updateRange = attribute.updateRange;\n    gl.bindBuffer(bufferType, buffer);\n\n    if (updateRange.count === -1) {\n      // Not using update ranges\n      gl.bufferSubData(bufferType, 0, array);\n    } else {\n      if (isWebGL2) {\n        gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array, updateRange.offset, updateRange.count);\n      } else {\n        gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array.subarray(updateRange.offset, updateRange.offset + updateRange.count));\n      }\n\n      updateRange.count = -1; // reset range\n    }\n\n    attribute.onUploadCallback();\n  } //\n\n\n  function get(attribute) {\n    if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n    return buffers.get(attribute);\n  }\n\n  function remove(attribute) {\n    if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n    const data = buffers.get(attribute);\n\n    if (data) {\n      gl.deleteBuffer(data.buffer);\n      buffers.delete(attribute);\n    }\n  }\n\n  function update(attribute, bufferType) {\n    if (attribute.isGLBufferAttribute) {\n      const cached = buffers.get(attribute);\n\n      if (!cached || cached.version < attribute.version) {\n        buffers.set(attribute, {\n          buffer: attribute.buffer,\n          type: attribute.type,\n          bytesPerElement: attribute.elementSize,\n          version: attribute.version\n        });\n      }\n\n      return;\n    }\n\n    if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n    const data = buffers.get(attribute);\n\n    if (data === undefined) {\n      buffers.set(attribute, createBuffer(attribute, bufferType));\n    } else if (data.version < attribute.version) {\n      updateBuffer(data.buffer, attribute, bufferType);\n      data.version = attribute.version;\n    }\n  }\n\n  return {\n    get: get,\n    remove: remove,\n    update: update\n  };\n}\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","get","attribute","isInterleavedBufferAttribute","data","remove","deleteBuffer","buffer","delete","update","bufferType","isGLBufferAttribute","cached","version","set","type","bytesPerElement","elementSize","undefined","array","usage","createBuffer","bindBuffer","bufferData","onUploadCallback","Float32Array","FLOAT","Uint16Array","isFloat16BufferAttribute","HALF_FLOAT","Error","UNSIGNED_SHORT","Int16Array","SHORT","Uint32Array","UNSIGNED_INT","Int32Array","INT","Int8Array","BYTE","Uint8Array","UNSIGNED_BYTE","Uint8ClampedArray","BYTES_PER_ELEMENT","updateRange","count","bufferSubData","offset","subarray"]
}
